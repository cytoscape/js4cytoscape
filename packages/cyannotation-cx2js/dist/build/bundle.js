!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.cyannotationCx2js=o():t.cyannotationCx2js=o()}(window,function(){return function(t){var o={};function e(a){if(o[a])return o[a].exports;var n=o[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=o,e.d=function(t,o,a){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)e.d(a,n,function(o){return t[o]}.bind(null,n));return a},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){"use strict";var a=e(1).CxToCyCanvas;t.exports={CxToCyCanvas:a}},function(t,o,e){"use strict";var a=function(){function t(t,o){for(var e=0;e<o.length;e++){var a=o[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(o,e,a){return e&&t(o.prototype,e),a&&t(o,a),o}}();var n=function(){function t(o){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t);var e=this;e.cx2js=o,this._findIntersection=function(t,o,e,a){var n=(a.y-e.y)*(o.x-t.x)-(a.x-e.x)*(o.y-t.y),r=((a.x-e.x)*(t.y-e.y)-(a.y-e.y)*(t.x-e.x))/n;return{x:this._epsilon(t.x+r*(o.x-t.x)),y:this._epsilon(t.y+r*(o.y-t.y))}},this._epsilon=function(t){return Math.abs(t)<1e-10?0:t},this._circleX=function(t,o,e){var a=o/t;return e&&t%2==0?(8==t&&(a+=.5/t),this._epsilon(Math.cos(2*a*Math.PI))):this._epsilon(Math.cos(2*a*Math.PI-Math.PI/2))},this._circleY=function(t,o,e){var a=o/t;return e&&t%2==0?(8==t&&(a+=.5/t),this._epsilon(Math.sin(2*a*Math.PI))):this._epsilon(Math.sin(2*a*Math.PI-Math.PI/2))},this._regularPolygonShapeFunction=function(t,o,a){a.beginPath();for(var n=parseFloat(t.width)/2,r=parseFloat(t.height)/2,i=parseFloat(t.x)+n,l=parseFloat(t.y)+r,s=[],c=0;c<o;c++){var f=this._circleX(o,c,!0)*n+i,u=this._circleY(o,c,!0)*r+l;s.push({x:f,y:u})}a.moveTo(s[0].x,s[0].y);for(var h=1;h<o;h++)a.lineTo(s[h].x,s[h].y);if(a.closePath(),t.fillColor){var p=e._colorFromInt(t.fillColor,t.fillOpacity);a.fillStyle=p,a.fill()}a.stroke()},this._starShapeFunction=function(t,o,a){a.beginPath();for(var n=parseFloat(t.width)/2,r=parseFloat(t.height)/2,i=parseFloat(t.x)+n,l=parseFloat(t.y)+r,s=2*o,c=[],f=0;f<s;f++)c.push({});for(var u=0;u<o;u++){var h=this._circleX(o,u,!1)*n+i,p=this._circleY(o,u,!1)*r+l,v=this._circleX(o,(u+2)%o,!1)*n+i,y=this._circleY(o,(u+2)%o,!1)*r+l;c[2*u]={x:h,y:p},c[(2*u+4)%s]={x:v,y:y}}for(var F=0;F<s;F+=2){var m=F,d=(F+4)%s,x=(F+2)%s,g=(x+s-4)%s;c[(F+1)%s]=this._findIntersection(c[m],c[d],c[x],c[g])}a.moveTo(c[0].x,c[0].y);for(var C=1;C<s;C++)a.lineTo(c[C].x,c[C].y);if(a.closePath(),t.fillColor){var _=e._colorFromInt(t.fillColor,t.fillOpacity);a.fillStyle=_,a.fill()}a.stroke()},this._scaleCustomPoint=function(t,o,e,a){return a*(o+t)/(e-o)},this._quadraticCurveBoundingBox=function(t,o,e,a,n,r){var i,l,s,c,f,u,h,p;h=t,p=o,((s=(l=e-t)/(i=n-t))<0||s>1)&&(h=l*l/(2*l-i)+t),((u=(f=a-o)/(c=r-o))<0||u>1)&&(p=f*f/(2*f-c)+o);var v={};return v.left=Math.min(t,n,h),v.top=Math.min(o,r,p),v.right=Math.max(t,n,h),v.bottom=Math.max(o,r,p),v.width=v.right-v.left,v.height=v.bottom-v.top,v},this._evalBez=function(t,o,e,a,n){return t*(1-n)*(1-n)*(1-n)+3*o*n*(1-n)*(1-n)+3*e*n*n*(1-n)+a*n*n*n},this._bezierCurveBoundingBox=function(t,o,a,n,r,i,l,s){var c=3*l-9*r+9*a-3*t,f=6*t-12*a+6*r,u=3*a-3*t,h=f*f-4*c*u,p=t,v=t;if(l<p&&(p=l),l>v&&(v=l),h>=0){var y=(-f+Math.sqrt(h))/(2*c);if(y>0&&y<1){var F=e._evalBez(t,a,r,l,y);F<p&&(p=F),F>v&&(v=F)}var m=(-f-Math.sqrt(h))/(2*c);if(m>0&&m<1){var d=e._evalBez(t,a,r,l,m);d<p&&(p=d),d>v&&(v=d)}}var x=o,g=o;if(s<x&&(x=s),s>g&&(g=s),(h=(f=6*o-12*n+6*i)*f-4*(c=3*s-9*i+9*n-3*o)*(u=3*n-3*o))>=0){var C=(-f+Math.sqrt(h))/(2*c);if(C>0&&C<1){var _=e._evalBez(o,n,i,s,C);_<x&&(x=_),_>g&&(g=_)}var M=(-f-Math.sqrt(h))/(2*c);if(M>0&&M<1){var T=e._evalBez(o,n,i,s,M);T<x&&(x=T),T>g&&(g=T)}}var b={};return b.left=p,b.top=x,b.right=v,b.bottom=g,b.width=b.right-b.left,b.height=b.bottom-b.top,b},this._shapeFunctions={RECTANGLE:function(t,o){if(o.beginPath(),o.rect(t.x,t.y,t.width,t.height),o.closePath(),t.fillColor){var a=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=a,o.fill()}o.stroke()},ROUNDEDRECTANGLE:function(t,o){var a=parseFloat(t.width),n=parseFloat(t.height),r=.1*a,i=parseFloat(t.x),l=parseFloat(t.y);if(o.beginPath(),o.moveTo(i+r,l),o.lineTo(i+a-r,l),o.quadraticCurveTo(i+a,l,i+a,l+r),o.lineTo(i+a,l+n-r),o.quadraticCurveTo(i+a,l+n,i+a-r,l+n),o.lineTo(i+r,l+n),o.quadraticCurveTo(i,l+n,i,l+n-r),o.lineTo(i,l+r),o.quadraticCurveTo(i,l,i+r,l),o.closePath(),t.fillColor){var s=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=s,o.fill()}o.stroke()},ELLIPSE:function(t,o){var a=parseFloat(t.width)/2,n=parseFloat(t.height)/2,r=parseFloat(t.x)+a,i=parseFloat(t.y)+n;if(o.beginPath(),o.ellipse(r,i,a,n,0,0,2*Math.PI),o.closePath(),t.fillColor){var l=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=l,o.fill()}o.stroke()},STAR5:function(t,o){e._starShapeFunction(t,5,o)},STAR6:function(t,o){e._starShapeFunction(t,6,o)},TRIANGLE:function(t,o){e._regularPolygonShapeFunction(t,3,o)},PENTAGON:function(t,o){e._regularPolygonShapeFunction(t,5,o)},HEXAGON:function(t,o){e._regularPolygonShapeFunction(t,6,o)},OCTAGON:function(t,o){e._regularPolygonShapeFunction(t,8,o)},PARALLELOGRAM:function(t,o){var a=parseFloat(t.x),n=parseFloat(t.y),r=a+parseFloat(t.width),i=n+parseFloat(t.height);if(o.beginPath(),o.moveTo(a,n),o.lineTo((2*r+a)/3,n),o.lineTo(r,i),o.lineTo((2*a+r)/3,i),o.closePath(),t.fillColor){var l=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=l,o.fill()}},CUSTOM:function(t,o){for(var a=parseFloat(t.x),n=parseFloat(t.y),r=parseFloat(t.width),i=parseFloat(t.height),l=t.customShape.split(" "),s=Number.MAX_VALUE,c=Number.MAX_VALUE,f=Number.MIN_VALUE,u=Number.MIN_VALUE,h=void 0,p=void 0,v=0;v<l.length;v++)if("M"==l[v]){var y=parseFloat(l[v+1]),F=parseFloat(l[v+2]);s=Math.min(s,y),c=Math.min(c,F),f=Math.max(f,y),u=Math.max(u,F),h=y,p=F,v+=2}else if("L"==l[v]){var m=parseFloat(l[v+1]),d=parseFloat(l[v+2]);s=Math.min(s,m),c=Math.min(c,d),f=Math.max(f,m),u=Math.max(u,d),h=m,p=d,v+=2}else if("Q"==l[v]){var x=parseFloat(l[v+1]),g=parseFloat(l[v+2]),C=parseFloat(l[v+3]),_=parseFloat(l[v+4]),M=e._quadraticCurveBoundingBox(h,p,x,g,C,_);s=Math.min(s,M.left),s=Math.min(s,M.right),c=Math.min(c,M.bottom),c=Math.min(c,M.top),f=Math.max(f,M.left),f=Math.max(f,M.right),u=Math.max(u,M.bottom),u=Math.max(u,M.top),h=C,p=_,v+=4}else if("C"==l[v]){var T=parseFloat(l[v+1]),b=parseFloat(l[v+2]),A=parseFloat(l[v+3]),P=parseFloat(l[v+4]),S=parseFloat(l[v+5]),w=parseFloat(l[v+6]),I=e._bezierCurveBoundingBox(h,p,T,b,A,P,S,w);s=Math.min(s,I.left),s=Math.min(s,I.right),c=Math.min(c,I.bottom),c=Math.min(c,I.top),f=Math.max(f,I.left),f=Math.max(f,I.right),u=Math.max(u,I.bottom),u=Math.max(u,I.top),h=S,p=w,v+=6}var O=r/(f-s),E=i/(u-c),N=a-O*s,z=n-E*c;o.beginPath();for(var k=0;k<l.length;k++)if("NZ"==l[k])o.closePath(),o.beginPath(),o.mozFillRule="nonzero";else if("EO"==l[k])o.closePath(),o.beginPath(),o.mozFillRule="evenodd";else if("M"==l[k]){var B=N+O*parseFloat(l[k+1]),L=z+E*parseFloat(l[k+2]);o.moveTo(B,L),k+=2}else if("L"==l[k]){var j=N+O*parseFloat(l[k+1]),X=z+E*parseFloat(l[k+2]);o.lineTo(j,X),k+=2}else if("Q"==l[k]){var q=N+O*parseFloat(l[k+1]),R=z+E*parseFloat(l[k+2]),G=N+O*parseFloat(l[k+3]),U=z+E*parseFloat(l[k+4]);o.quadraticCurveTo(q,R,G,U),k+=4}else if("C"==l[k]){var Y=N+O*parseFloat(l[k+1]),V=z+E*parseFloat(l[k+2]),K=N+O*parseFloat(l[k+3]),D=z+E*parseFloat(l[k+4]),J=N+O*parseFloat(l[k+5]),Q=z+E*parseFloat(l[k+6]);o.bezierCurveTo(Y,V,K,D,J,Q),k+=6}else l[k];if(o.closePath(),t.fillColor){var H=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=H,o.fill()}o.stroke()}},this._colorFromInt=function(t,o){return"rgb("+((16711680&(t>>>=0))>>>16)+","+((65280&t)>>>8)+","+(255&t)+","+parseFloat(o)/100+")"}}return a(t,[{key:"drawBackgroundFromNiceCX",value:function(t,o){var e=this.cx2js.cyBackgroundColorFromNiceCX(o);this.drawBackground(t,e)}},{key:"drawBackground",value:function(t,o){var e=t.cyCanvas({zIndex:-2}).getCanvas(),a=e.getContext("2d");t.on("render cyCanvas.resize",function(t){a.fillStyle=o,a.fillRect(0,0,e.width,e.height)})}},{key:"getAnnotationElementsFromNiceCX",value:function(t){return t.networkAttributes?t.networkAttributes.elements.filter(function(t){return"__Annotations"==t.n}):[]}},{key:"drawAnnotationsFromAnnotationElements",value:function(t,o){var e=this,a=this.cx2js,n=t.cyCanvas({zIndex:-1}),r=t.cyCanvas({zIndex:1}),i=n.getCanvas().getContext("2d"),l=r.getCanvas().getContext("2d");t.on("render cyCanvas.resize",function(t){var s=e._colorFromInt,c=e._shapeFunctions;n.resetTransform(i),n.clear(i),n.setTransform(i),i.save(),r.resetTransform(l),r.clear(l),r.setTransform(l),l.save();var f={},u=[],h=[];o.forEach(function(t){t.v.forEach(function(t){var o=t.split("|"),e={};o.forEach(function(t){var o=t.split("=");e[o[0]]=o[1]}),f[e.uuid]=e,"foreground"==e.canvas?u.push(e.uuid):h.push(e.uuid)})});var p=function(t,o){var e=f[t],a=f[o];return parseInt(a.z)-parseInt(e.z)};u.sort(p),h.sort(p),[{context:l,annotations:u},{context:i,annotations:h}].forEach(function(t){var o=t.context;t.annotations.forEach(function(t){var e,n,r,i=f[t];if("org.cytoscape.view.presentation.annotations.ShapeAnnotation"==i.type||"org.cytoscape.view.presentation.annotations.BoundedTextAnnotation"==i.type)o.lineWidth=i.edgeThickness,i.width=parseFloat(i.width)/parseFloat(i.zoom),i.height=parseFloat(i.height)/parseFloat(i.zoom),c[i.shapeType]?(o.strokeStyle=s(i.edgeColor,i.edgeOpacity),c[i.shapeType](i,o)):console.warn("Invalid shape type: "+i.shapeType);else if("org.cytoscape.view.presentation.annotations.ArrowAnnotation"==i.type&&i.targetAnnotation&&i.sourceAnnotation){f[i.sourceAnnotation],f[i.targetAnnotation];o.stroke()}if("org.cytoscape.view.presentation.annotations.TextAnnotation"==i.type?(e=i.text,o.textBaseline="top",o.textAlign="left",n=i.x,r=i.y):"org.cytoscape.view.presentation.annotations.BoundedTextAnnotation"==i.type&&(e=i.text,o.textBaseline="middle",o.textAlign="center",n=parseFloat(i.x)+i.width/2,r=parseFloat(i.y)+i.height/2),e&&n&&r){var l,u=parseFloat(i.fontSize)/parseFloat(i.zoom);if(i.fontFamily&&(l=a.JavaLogicalFontConstants.FONT_FAMILY_LIST.includes(i.fontFamily)?a.JavaLogicalFontConstants.FONT_STACK_MAP[i.fontFamily]:a.CommonOSFontConstants.FONT_STACK_MAP[i.fontFamily]?a.CommonOSFontConstants.FONT_STACK_MAP[i.fontFamily]:"sans-serif"),o.font=u+"px "+l,i.color){var h=s(i.color,"100");o.fillStyle=h}o.fillText(e.toString(),n,r)}})}),l.restore(),i.restore()})}},{key:"drawAnnotationsFromNiceCX",value:function(t,o){var e=this.getAnnotationElementsFromNiceCX(o);this.drawAnnotationsFromAnnotationElements(t,e)}}]),t}();t.exports={CxToCyCanvas:n}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jeWFubm90YXRpb25DeDJqcy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vY3lhbm5vdGF0aW9uQ3gyanMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY3lhbm5vdGF0aW9uQ3gyanMvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY3lhbm5vdGF0aW9uQ3gyanMvLi9zcmMvY3hfdG9fY3lfY2FudmFzLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDeFRvQ3lDYW52YXMiLCJyZXF1aXJlIiwiY3gyanMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2VsZiIsIl9maW5kSW50ZXJzZWN0aW9uIiwicDEiLCJwMiIsInAzIiwicDQiLCJkZW5vbWluYXRvciIsInVhIiwieCIsIl9lcHNpbG9uIiwieSIsInYiLCJNYXRoIiwiYWJzIiwiX2NpcmNsZVgiLCJzaWRlcyIsImFuZ2xlIiwicm90IiwiY29lZmYiLCJjb3MiLCJQSSIsIl9jaXJjbGVZIiwic2luIiwiX3JlZ3VsYXJQb2x5Z29uU2hhcGVGdW5jdGlvbiIsInNoYXBlTWFwIiwiY3R4IiwiYmVnaW5QYXRoIiwid2lkdGgiLCJwYXJzZUZsb2F0IiwiaGVpZ2h0IiwicG9pbnRzIiwieDEiLCJ5MSIsInB1c2giLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJmaWxsQ29sb3IiLCJfY29sb3JGcm9tSW50IiwiZmlsbFN0eWxlIiwiZmlsbCIsInN0cm9rZSIsIl9zdGFyU2hhcGVGdW5jdGlvbiIsIm5Qb2ludHMiLCJ4MiIsInkyIiwiX3NjYWxlQ3VzdG9tUG9pbnQiLCJtaW4iLCJtYXgiLCJzY2FsZSIsIl9xdWFkcmF0aWNDdXJ2ZUJvdW5kaW5nQm94IiwieDMiLCJ5MyIsImJyeCIsImJ4IiwiYnJ5IiwiYnkiLCJweCIsInB5IiwiZXh0ZW50IiwibGVmdCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwiX2V2YWxCZXoiLCJwMCIsIl9iZXppZXJDdXJ2ZUJvdW5kaW5nQm94IiwicHgwIiwicHkwIiwicHgxIiwicHkxIiwicHgyIiwicHkyIiwicHgzIiwicHkzIiwiYSIsImIiLCJkaXNjIiwieGwiLCJ4aCIsInQxIiwic3FydCIsInQyIiwieWwiLCJ5aCIsIl9zaGFwZUZ1bmN0aW9ucyIsIlJFQ1RBTkdMRSIsInJlY3QiLCJST1VOREVEUkVDVEFOR0xFIiwidGVudGhXaWR0aCIsInF1YWRyYXRpY0N1cnZlVG8iLCJFTExJUFNFIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsImVsbGlwc2UiLCJTVEFSNSIsIlNUQVI2IiwiVFJJQU5HTEUiLCJQRU5UQUdPTiIsIkhFWEFHT04iLCJPQ1RBR09OIiwiUEFSQUxMRUxPR1JBTSIsInhNYXgiLCJ5TWF4IiwiQ1VTVE9NIiwic2hhcGVBcmdzIiwic3BsaXQiLCJtaW5YIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwibWluWSIsIm1heFgiLCJNSU5fVkFMVUUiLCJtYXhZIiwibGFzdFgiLCJsYXN0WSIsImxlbmd0aCIsIm14IiwibXkiLCJseCIsImx5IiwicTEiLCJxMiIsInEzIiwicTQiLCJjMSIsImMyIiwiYzMiLCJjNCIsImM1IiwiYzYiLCJzY2FsZVgiLCJzY2FsZVkiLCJiYXNlWCIsImJhc2VZIiwibW96RmlsbFJ1bGUiLCJiZXppZXJDdXJ2ZVRvIiwibnVtIiwiYWxwaGEiLCJjeXRvc2NhcGVJbnN0YW5jZSIsIm5pY2VDWCIsImN4QkdDb2xvciIsImN5QmFja2dyb3VuZENvbG9yRnJvbU5pY2VDWCIsImRyYXdCYWNrZ3JvdW5kIiwiYmFja2dyb3VuZENhbnZhcyIsImN5Q2FudmFzIiwiekluZGV4IiwiZ2V0Q2FudmFzIiwiYmFja2dyb3VuZEN0eCIsImdldENvbnRleHQiLCJvbiIsImV2dCIsImZpbGxSZWN0IiwiZmlsdGVyIiwiZWxlbWVudCIsImFubm90YXRpb25FbGVtZW50cyIsIl90aGlzIiwiYm90dG9tTGF5ZXIiLCJ0b3BMYXllciIsImJvdHRvbUN0eCIsInRvcEN0eCIsImNvbG9yRnJvbUludCIsInNoYXBlRnVuY3Rpb25zIiwicmVzZXRUcmFuc2Zvcm0iLCJjbGVhciIsInNldFRyYW5zZm9ybSIsInNhdmUiLCJpbmRleGVkQW5ub3RhdGlvbnMiLCJ0b3BBbm5vdGF0aW9ucyIsImJvdHRvbUFubm90YXRpb25zIiwiZm9yRWFjaCIsImFubm90YXRpb24iLCJhbm5vdGF0aW9uS1ZMaXN0IiwiYW5ub3RhdGlvbk1hcCIsImFubm90YXRpb25LViIsImt2UGFpciIsInpPcmRlckNvbXBhcmUiLCJhbm5vdGF0aW9uQSIsImFubm90YXRpb25CIiwicGFyc2VJbnQiLCJzb3J0IiwiY29udGV4dCIsImFubm90YXRpb25zIiwiY29udGV4dEFubm90YXRpb25QYWlyIiwiYW5ub3RhdGlvblVVSUQiLCJ0ZXh0IiwidGV4dFgiLCJ0ZXh0WSIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwiY29uc29sZSIsIndhcm4iLCJ0ZXh0QmFzZWxpbmUiLCJ0ZXh0QWxpZ24iLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJKYXZhTG9naWNhbEZvbnRDb25zdGFudHMiLCJGT05UX0ZBTUlMWV9MSVNUIiwiaW5jbHVkZXMiLCJGT05UX1NUQUNLX01BUCIsIkNvbW1vbk9TRm9udENvbnN0YW50cyIsImZvbnQiLCJmaWxsVGV4dCIsInRvU3RyaW5nIiwicmVzdG9yZSIsImdldEFubm90YXRpb25FbGVtZW50c0Zyb21OaWNlQ1giLCJkcmF3QW5ub3RhdGlvbnNGcm9tQW5ub3RhdGlvbkVsZW1lbnRzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLEdBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsa0JBQUFELElBRUFELEVBQUEsa0JBQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVAsUUFHQSxJQUFBQyxFQUFBSSxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsUUFBQSxJQVVBLE9BTkFVLEVBQUFILEdBQUFJLEtBQUFWLEVBQUFELFFBQUFDLElBQUFELFFBQUFNLEdBR0FMLEVBQUFRLEdBQUEsRUFHQVIsRUFBQUQsUUEwREEsT0FyREFNLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FBQWQsRUFBQWUsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQWpCLEVBQUFlLElBQ0FHLE9BQUFDLGVBQUFuQixFQUFBZSxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDVixFQUFBZ0IsRUFBQSxTQUFBdEIsR0FDQSxvQkFBQXVCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFuQixFQUFBdUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQW5CLEVBQUEsY0FBaUR5QixPQUFBLEtBUWpEbkIsRUFBQW9CLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFuQixFQUFBbUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FB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L2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImN5YW5ub3RhdGlvbkN4MmpzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImN5YW5ub3RhdGlvbkN4MmpzXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBDeFRvQ3lDYW52YXMgPSByZXF1aXJlKCcuL2N4X3RvX2N5X2NhbnZhcy5qcycpLkN4VG9DeUNhbnZhcztcblxubW9kdWxlLmV4cG9ydHMgPSB7Q3hUb0N5Q2FudmFzfTtcbiIsImNsYXNzIEN4VG9DeUNhbnZhcyB7XG4gIGNvbnN0cnVjdG9yKGN4MmpzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5jeDJqcyA9IGN4MmpzO1xuXG4gICAgdGhpcy5fZmluZEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKHAxLCBwMiwgcDMsIHA0KSB7XG4gICAgICB2YXIgZGVub21pbmF0b3IgPVxuICAgICAgICAocDRbXCJ5XCJdIC0gcDNbXCJ5XCJdKSAqIChwMltcInhcIl0gLSBwMVtcInhcIl0pIC1cbiAgICAgICAgKHA0W1wieFwiXSAtIHAzW1wieFwiXSkgKiAocDJbXCJ5XCJdIC0gcDFbXCJ5XCJdKTtcblxuICAgICAgdmFyIHVhID1cbiAgICAgICAgKChwNFtcInhcIl0gLSBwM1tcInhcIl0pICogKHAxW1wieVwiXSAtIHAzW1wieVwiXSkgLVxuICAgICAgICAgIChwNFtcInlcIl0gLSBwM1tcInlcIl0pICogKHAxW1wieFwiXSAtIHAzW1wieFwiXSkpIC9cbiAgICAgICAgZGVub21pbmF0b3I7XG5cbiAgICAgIHZhciB4ID0gdGhpcy5fZXBzaWxvbihwMVtcInhcIl0gKyB1YSAqIChwMltcInhcIl0gLSBwMVtcInhcIl0pKTtcbiAgICAgIHZhciB5ID0gdGhpcy5fZXBzaWxvbihwMVtcInlcIl0gKyB1YSAqIChwMltcInlcIl0gLSBwMVtcInlcIl0pKTtcbiAgICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgICB9O1xuXG4gICAgdGhpcy5fZXBzaWxvbiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIGlmIChNYXRoLmFicyh2KSA8IDEuMGUtMTApIHJldHVybiAwLjA7XG4gICAgICByZXR1cm4gdjtcbiAgICB9O1xuXG4gICAgdGhpcy5fY2lyY2xlWCA9IGZ1bmN0aW9uKHNpZGVzLCBhbmdsZSwgcm90KSB7XG4gICAgICB2YXIgY29lZmYgPSBhbmdsZSAvIHNpZGVzO1xuICAgICAgaWYgKHJvdCAmJiBzaWRlcyAlIDIgPT0gMCkge1xuICAgICAgICBpZiAoc2lkZXMgPT0gOCkge1xuICAgICAgICAgIGNvZWZmICs9IDAuNSAvIHNpZGVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lcHNpbG9uKE1hdGguY29zKDIgKiBjb2VmZiAqIE1hdGguUEkpKTtcbiAgICAgIH0gZWxzZSByZXR1cm4gdGhpcy5fZXBzaWxvbihNYXRoLmNvcygyICogY29lZmYgKiBNYXRoLlBJIC0gTWF0aC5QSSAvIDIpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fY2lyY2xlWSA9IGZ1bmN0aW9uKHNpZGVzLCBhbmdsZSwgcm90KSB7XG4gICAgICB2YXIgY29lZmYgPSBhbmdsZSAvIHNpZGVzO1xuICAgICAgaWYgKHJvdCAmJiBzaWRlcyAlIDIgPT0gMCkge1xuICAgICAgICBpZiAoc2lkZXMgPT0gOCkge1xuICAgICAgICAgIGNvZWZmICs9IDAuNSAvIHNpZGVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lcHNpbG9uKE1hdGguc2luKDIgKiBjb2VmZiAqIE1hdGguUEkpKTtcbiAgICAgIH0gZWxzZSByZXR1cm4gdGhpcy5fZXBzaWxvbihNYXRoLnNpbigyICogY29lZmYgKiBNYXRoLlBJIC0gTWF0aC5QSSAvIDIpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fcmVndWxhclBvbHlnb25TaGFwZUZ1bmN0aW9uID0gZnVuY3Rpb24oc2hhcGVNYXAsIHNpZGVzLCBjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ3aWR0aFwiXSkgLyAyO1xuICAgICAgdmFyIGhlaWdodCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJoZWlnaHRcIl0pIC8gMjtcblxuICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieFwiXSkgKyB3aWR0aDtcbiAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInlcIl0pICsgaGVpZ2h0O1xuXG4gICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpZGVzOyBpKyspIHtcbiAgICAgICAgbGV0IHgxID0gdGhpcy5fY2lyY2xlWChzaWRlcywgaSwgdHJ1ZSkgKiB3aWR0aCArIHg7XG4gICAgICAgIGxldCB5MSA9IHRoaXMuX2NpcmNsZVkoc2lkZXMsIGksIHRydWUpICogaGVpZ2h0ICsgeTtcbiAgICAgICAgcG9pbnRzLnB1c2goeyB4OiB4MSwgeTogeTEgfSk7XG4gICAgICB9XG4gICAgICAvLyBOb3csIGFkZCB0aGUgcG9pbnRzXG4gICAgICBjdHgubW92ZVRvKHBvaW50c1swXVtcInhcIl0sIHBvaW50c1swXVtcInlcIl0pO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzaWRlczsgaSsrKSB7XG4gICAgICAgIGN0eC5saW5lVG8ocG9pbnRzW2ldW1wieFwiXSwgcG9pbnRzW2ldW1wieVwiXSk7XG4gICAgICB9XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgbGV0IGZpbGxDb2xvciA9IHNlbGYuX2NvbG9yRnJvbUludChcbiAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIHRoaXMuX3N0YXJTaGFwZUZ1bmN0aW9uID0gZnVuY3Rpb24oc2hhcGVNYXAsIHNpZGVzLCBjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ3aWR0aFwiXSkgLyAyO1xuICAgICAgdmFyIGhlaWdodCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJoZWlnaHRcIl0pIC8gMjtcblxuICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieFwiXSkgKyB3aWR0aDtcbiAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInlcIl0pICsgaGVpZ2h0O1xuXG4gICAgICBsZXQgblBvaW50cyA9IHNpZGVzICogMjtcbiAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgblBvaW50czsgaSsrKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKHt9KTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2lkZXM7IGkrKykge1xuICAgICAgICBsZXQgeDEgPSB0aGlzLl9jaXJjbGVYKHNpZGVzLCBpLCBmYWxzZSkgKiB3aWR0aCArIHg7XG4gICAgICAgIGxldCB5MSA9IHRoaXMuX2NpcmNsZVkoc2lkZXMsIGksIGZhbHNlKSAqIGhlaWdodCArIHk7XG4gICAgICAgIGxldCB4MiA9IHRoaXMuX2NpcmNsZVgoc2lkZXMsIChpICsgMikgJSBzaWRlcywgZmFsc2UpICogd2lkdGggKyB4O1xuICAgICAgICBsZXQgeTIgPSB0aGlzLl9jaXJjbGVZKHNpZGVzLCAoaSArIDIpICUgc2lkZXMsIGZhbHNlKSAqIGhlaWdodCArIHk7XG4gICAgICAgIHBvaW50c1tpICogMl0gPSB7IHg6IHgxLCB5OiB5MSB9O1xuICAgICAgICBwb2ludHNbKGkgKiAyICsgNCkgJSBuUG9pbnRzXSA9IHsgeDogeDIsIHk6IHkyIH07XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbGwgaW4gdGhlIGludGVyc2VjdGlvbiBwb2ludHNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgblBvaW50czsgaSA9IGkgKyAyKSB7XG4gICAgICAgIGxldCBwMSA9IGk7XG4gICAgICAgIGxldCBwMiA9IChpICsgNCkgJSBuUG9pbnRzO1xuICAgICAgICBsZXQgcDMgPSAoaSArIDIpICUgblBvaW50cztcbiAgICAgICAgbGV0IHA0ID0gKHAzICsgblBvaW50cyAtIDQpICUgblBvaW50cztcblxuICAgICAgICBwb2ludHNbKGkgKyAxKSAlIG5Qb2ludHNdID0gdGhpcy5fZmluZEludGVyc2VjdGlvbihcbiAgICAgICAgICBwb2ludHNbcDFdLFxuICAgICAgICAgIHBvaW50c1twMl0sXG4gICAgICAgICAgcG9pbnRzW3AzXSxcbiAgICAgICAgICBwb2ludHNbcDRdXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIE5vdywgYWRkIHRoZSBwb2ludHNcbiAgICAgIGN0eC5tb3ZlVG8ocG9pbnRzWzBdW1wieFwiXSwgcG9pbnRzWzBdW1wieVwiXSk7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG5Qb2ludHM7IGkrKykge1xuICAgICAgICBjdHgubGluZVRvKHBvaW50c1tpXVtcInhcIl0sIHBvaW50c1tpXVtcInlcIl0pO1xuICAgICAgfVxuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgbGV0IGZpbGxDb2xvciA9IHNlbGYuX2NvbG9yRnJvbUludChcbiAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIHRoaXMuX3NjYWxlQ3VzdG9tUG9pbnQgPSBmdW5jdGlvbih2YWx1ZSwgbWluLCBtYXgsIHNjYWxlKSB7XG4gICAgICByZXR1cm4gKHNjYWxlICogKG1pbiArIHZhbHVlKSkgLyAobWF4IC0gbWluKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fcXVhZHJhdGljQ3VydmVCb3VuZGluZ0JveCA9IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcbiAgICAgIHZhciBicngsIGJ4LCB4LCBicnksIGJ5LCB5LCBweCwgcHk7XG5cbiAgICAgIC8vIHNvbHZlIHF1YWRyYXRpYyBmb3IgYm91bmRzIGJ5IEJNNjcgbm9ybWFsaXppbmcgZXF1YXRpb25cbiAgICAgIGJyeCA9IHgzIC0geDE7IC8vIGdldCB4IHJhbmdlXG4gICAgICBieCA9IHgyIC0geDE7IC8vIGdldCB4IGNvbnRyb2wgcG9pbnQgb2Zmc2V0XG4gICAgICB4ID0gYnggLyBicng7IC8vIG5vcm1hbGlzZSBjb250cm9sIHBvaW50IHdoaWNoIGlzIHVzZWQgdG8gY2hlY2sgaWYgbWF4aW1hIGlzIGluIHJhbmdlXG5cbiAgICAgIC8vIGRvIHRoZSBzYW1lIGZvciB0aGUgeSBwb2ludHNcbiAgICAgIGJyeSA9IHkzIC0geTE7XG4gICAgICBieSA9IHkyIC0geTE7XG4gICAgICB5ID0gYnkgLyBicnk7XG5cbiAgICAgIHB4ID0geDE7IC8vIHNldCBkZWZhdWx0cyBpbiBjYXNlIG1heGltYXMgb3V0c2lkZSByYW5nZVxuICAgICAgcHkgPSB5MTtcblxuICAgICAgLy8gZmluZCB0b3AvbGVmdCwgdG9wL3JpZ2h0LCBib3R0b20vbGVmdCwgb3IgYm90dG9tL3JpZ2h0XG4gICAgICBpZiAoeCA8IDAgfHwgeCA+IDEpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgeCBtYXhpbWEgaXMgb24gdGhlIGN1cnZlXG4gICAgICAgIHB4ID0gKGJ4ICogYngpIC8gKDIgKiBieCAtIGJyeCkgKyB4MTsgLy8gZ2V0IHRoZSB4IG1heGltYVxuICAgICAgfVxuICAgICAgaWYgKHkgPCAwIHx8IHkgPiAxKSB7XG4gICAgICAgIC8vIHNhbWUgYXMgeFxuICAgICAgICBweSA9IChieSAqIGJ5KSAvICgyICogYnkgLSBicnkpICsgeTE7XG4gICAgICB9XG5cbiAgICAgIGxldCBleHRlbnQgPSB7fTtcbiAgICAgIGV4dGVudC5sZWZ0ID0gTWF0aC5taW4oeDEsIHgzLCBweCk7XG4gICAgICBleHRlbnQudG9wID0gTWF0aC5taW4oeTEsIHkzLCBweSk7XG4gICAgICBleHRlbnQucmlnaHQgPSBNYXRoLm1heCh4MSwgeDMsIHB4KTtcbiAgICAgIGV4dGVudC5ib3R0b20gPSBNYXRoLm1heCh5MSwgeTMsIHB5KTtcblxuICAgICAgZXh0ZW50LndpZHRoID0gZXh0ZW50LnJpZ2h0IC0gZXh0ZW50LmxlZnQ7XG4gICAgICBleHRlbnQuaGVpZ2h0ID0gZXh0ZW50LmJvdHRvbSAtIGV4dGVudC50b3A7XG5cbiAgICAgIHJldHVybiBleHRlbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuX2V2YWxCZXogPSBmdW5jdGlvbihwMCwgcDEsIHAyLCBwMywgdCkge1xuICAgICAgdmFyIHAgPVxuICAgICAgICBwMCAqICgxIC0gdCkgKiAoMSAtIHQpICogKDEgLSB0KSArXG4gICAgICAgIDMgKiBwMSAqIHQgKiAoMSAtIHQpICogKDEgLSB0KSArXG4gICAgICAgIDMgKiBwMiAqIHQgKiB0ICogKDEgLSB0KSArXG4gICAgICAgIHAzICogdCAqIHQgKiB0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfTtcblxuICAgIHRoaXMuX2JlemllckN1cnZlQm91bmRpbmdCb3ggPSBmdW5jdGlvbihcbiAgICAgIHB4MCxcbiAgICAgIHB5MCxcbiAgICAgIHB4MSxcbiAgICAgIHB5MSxcbiAgICAgIHB4MixcbiAgICAgIHB5MixcbiAgICAgIHB4MyxcbiAgICAgIHB5M1xuICAgICkge1xuICAgICAgdmFyIGEgPSAzICogcHgzIC0gOSAqIHB4MiArIDkgKiBweDEgLSAzICogcHgwO1xuICAgICAgdmFyIGIgPSA2ICogcHgwIC0gMTIgKiBweDEgKyA2ICogcHgyO1xuICAgICAgdmFyIGMgPSAzICogcHgxIC0gMyAqIHB4MDtcbiAgICAgIC8vYWxlcnQoXCJhIFwiK2ErXCIgXCIrYitcIiBcIitjKTtcbiAgICAgIHZhciBkaXNjID0gYiAqIGIgLSA0ICogYSAqIGM7XG4gICAgICB2YXIgeGwgPSBweDA7XG4gICAgICB2YXIgeGggPSBweDA7XG4gICAgICBpZiAocHgzIDwgeGwpIHhsID0gcHgzO1xuICAgICAgaWYgKHB4MyA+IHhoKSB4aCA9IHB4MztcbiAgICAgIGlmIChkaXNjID49IDApIHtcbiAgICAgICAgbGV0IHQxID0gKC1iICsgTWF0aC5zcXJ0KGRpc2MpKSAvICgyICogYSk7XG4gICAgICAgIC8vYWxlcnQoXCJ0MSBcIiArIHQxKTtcbiAgICAgICAgaWYgKHQxID4gMCAmJiB0MSA8IDEpIHtcbiAgICAgICAgICB2YXIgeDEgPSBzZWxmLl9ldmFsQmV6KHB4MCwgcHgxLCBweDIsIHB4MywgdDEpO1xuICAgICAgICAgIGlmICh4MSA8IHhsKSB4bCA9IHgxO1xuICAgICAgICAgIGlmICh4MSA+IHhoKSB4aCA9IHgxO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHQyID0gKC1iIC0gTWF0aC5zcXJ0KGRpc2MpKSAvICgyICogYSk7XG4gICAgICAgIC8vYWxlcnQoXCJ0MiBcIiArIHQyKTtcbiAgICAgICAgaWYgKHQyID4gMCAmJiB0MiA8IDEpIHtcbiAgICAgICAgICB2YXIgeDIgPSBzZWxmLl9ldmFsQmV6KHB4MCwgcHgxLCBweDIsIHB4MywgdDIpO1xuICAgICAgICAgIGlmICh4MiA8IHhsKSB4bCA9IHgyO1xuICAgICAgICAgIGlmICh4MiA+IHhoKSB4aCA9IHgyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGEgPSAzICogcHkzIC0gOSAqIHB5MiArIDkgKiBweTEgLSAzICogcHkwO1xuICAgICAgYiA9IDYgKiBweTAgLSAxMiAqIHB5MSArIDYgKiBweTI7XG4gICAgICBjID0gMyAqIHB5MSAtIDMgKiBweTA7XG4gICAgICBkaXNjID0gYiAqIGIgLSA0ICogYSAqIGM7XG4gICAgICB2YXIgeWwgPSBweTA7XG4gICAgICB2YXIgeWggPSBweTA7XG4gICAgICBpZiAocHkzIDwgeWwpIHlsID0gcHkzO1xuICAgICAgaWYgKHB5MyA+IHloKSB5aCA9IHB5MztcbiAgICAgIGlmIChkaXNjID49IDApIHtcbiAgICAgICAgbGV0IHQxID0gKC1iICsgTWF0aC5zcXJ0KGRpc2MpKSAvICgyICogYSk7XG4gICAgICAgIC8vYWxlcnQoXCJ0MyBcIiArIHQxKTtcblxuICAgICAgICBpZiAodDEgPiAwICYmIHQxIDwgMSkge1xuICAgICAgICAgIHZhciB5MSA9IHNlbGYuX2V2YWxCZXoocHkwLCBweTEsIHB5MiwgcHkzLCB0MSk7XG4gICAgICAgICAgaWYgKHkxIDwgeWwpIHlsID0geTE7XG4gICAgICAgICAgaWYgKHkxID4geWgpIHloID0geTE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdDIgPSAoLWIgLSBNYXRoLnNxcnQoZGlzYykpIC8gKDIgKiBhKTtcbiAgICAgICAgLy9hbGVydChcInQ0IFwiICsgdDIpO1xuXG4gICAgICAgIGlmICh0MiA+IDAgJiYgdDIgPCAxKSB7XG4gICAgICAgICAgdmFyIHkyID0gc2VsZi5fZXZhbEJleihweTAsIHB5MSwgcHkyLCBweTMsIHQyKTtcbiAgICAgICAgICBpZiAoeTIgPCB5bCkgeWwgPSB5MjtcbiAgICAgICAgICBpZiAoeTIgPiB5aCkgeWggPSB5MjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgZXh0ZW50ID0ge307XG4gICAgICBleHRlbnQubGVmdCA9IHhsO1xuICAgICAgZXh0ZW50LnRvcCA9IHlsO1xuICAgICAgZXh0ZW50LnJpZ2h0ID0geGg7XG4gICAgICBleHRlbnQuYm90dG9tID0geWg7XG5cbiAgICAgIGV4dGVudC53aWR0aCA9IGV4dGVudC5yaWdodCAtIGV4dGVudC5sZWZ0O1xuICAgICAgZXh0ZW50LmhlaWdodCA9IGV4dGVudC5ib3R0b20gLSBleHRlbnQudG9wO1xuXG4gICAgICByZXR1cm4gZXh0ZW50O1xuICAgIH07XG5cbiAgICB0aGlzLl9zaGFwZUZ1bmN0aW9ucyA9IHtcbiAgICAgIFJFQ1RBTkdMRTogZnVuY3Rpb24oc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5yZWN0KFxuICAgICAgICAgIHNoYXBlTWFwW1wieFwiXSxcbiAgICAgICAgICBzaGFwZU1hcFtcInlcIl0sXG4gICAgICAgICAgc2hhcGVNYXBbXCJ3aWR0aFwiXSxcbiAgICAgICAgICBzaGFwZU1hcFtcImhlaWdodFwiXVxuICAgICAgICApO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9LFxuICAgICAgUk9VTkRFRFJFQ1RBTkdMRTogZnVuY3Rpb24oc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICB2YXIgd2lkdGggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wid2lkdGhcIl0pO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcImhlaWdodFwiXSk7XG4gICAgICAgIHZhciB0ZW50aFdpZHRoID0gd2lkdGggKiAwLjE7XG4gICAgICAgIHZhciB4ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInhcIl0pO1xuICAgICAgICB2YXIgeSA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ5XCJdKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRlbnRoV2lkdGgsIHkpO1xuICAgICAgICBjdHgubGluZVRvKHggKyB3aWR0aCAtIHRlbnRoV2lkdGgsIHkpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIHRlbnRoV2lkdGgpO1xuICAgICAgICBjdHgubGluZVRvKHggKyB3aWR0aCwgeSArIGhlaWdodCAtIHRlbnRoV2lkdGgpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhcbiAgICAgICAgICB4ICsgd2lkdGgsXG4gICAgICAgICAgeSArIGhlaWdodCxcbiAgICAgICAgICB4ICsgd2lkdGggLSB0ZW50aFdpZHRoLFxuICAgICAgICAgIHkgKyBoZWlnaHRcbiAgICAgICAgKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdGVudGhXaWR0aCwgeSArIGhlaWdodCk7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSB0ZW50aFdpZHRoKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4LCB5ICsgdGVudGhXaWR0aCk7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHksIHggKyB0ZW50aFdpZHRoLCB5KTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgICBsZXQgZmlsbENvbG9yID0gc2VsZi5fY29sb3JGcm9tSW50KFxuICAgICAgICAgICAgc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0sXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfSxcbiAgICAgIEVMTElQU0U6IGZ1bmN0aW9uKHNoYXBlTWFwLCBjdHgpIHtcbiAgICAgICAgdmFyIGhhbGZXaWR0aCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ3aWR0aFwiXSkgLyAyO1xuICAgICAgICB2YXIgaGFsZkhlaWdodCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJoZWlnaHRcIl0pIC8gMjtcbiAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieFwiXSkgKyBoYWxmV2lkdGg7XG4gICAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInlcIl0pICsgaGFsZkhlaWdodDtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZWxsaXBzZSh4LCB5LCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQsIDAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgICBsZXQgZmlsbENvbG9yID0gc2VsZi5fY29sb3JGcm9tSW50KFxuICAgICAgICAgICAgc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0sXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfSxcbiAgICAgIFNUQVI1OiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHNlbGYuX3N0YXJTaGFwZUZ1bmN0aW9uKHNoYXBlTWFwLCA1LCBjdHgpO1xuICAgICAgfSxcbiAgICAgIFNUQVI2OiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHNlbGYuX3N0YXJTaGFwZUZ1bmN0aW9uKHNoYXBlTWFwLCA2LCBjdHgpO1xuICAgICAgfSxcbiAgICAgIFRSSUFOR0xFOiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHNlbGYuX3JlZ3VsYXJQb2x5Z29uU2hhcGVGdW5jdGlvbihzaGFwZU1hcCwgMywgY3R4KTtcbiAgICAgIH0sXG4gICAgICBQRU5UQUdPTjogZnVuY3Rpb24oc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICBzZWxmLl9yZWd1bGFyUG9seWdvblNoYXBlRnVuY3Rpb24oc2hhcGVNYXAsIDUsIGN0eCk7XG4gICAgICB9LFxuICAgICAgSEVYQUdPTjogZnVuY3Rpb24oc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICBzZWxmLl9yZWd1bGFyUG9seWdvblNoYXBlRnVuY3Rpb24oc2hhcGVNYXAsIDYsIGN0eCk7XG4gICAgICB9LFxuICAgICAgT0NUQUdPTjogZnVuY3Rpb24oc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICBzZWxmLl9yZWd1bGFyUG9seWdvblNoYXBlRnVuY3Rpb24oc2hhcGVNYXAsIDgsIGN0eCk7XG4gICAgICB9LFxuICAgICAgUEFSQUxMRUxPR1JBTTogZnVuY3Rpb24oc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ4XCJdKTtcbiAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSk7XG5cbiAgICAgICAgdmFyIHhNYXggPSB4ICsgcGFyc2VGbG9hdChzaGFwZU1hcFtcIndpZHRoXCJdKTtcbiAgICAgICAgdmFyIHlNYXggPSB5ICsgcGFyc2VGbG9hdChzaGFwZU1hcFtcImhlaWdodFwiXSk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbygoMi4wICogeE1heCArIHgpIC8gMy4wLCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbyh4TWF4LCB5TWF4KTtcbiAgICAgICAgY3R4LmxpbmVUbygoMi4wICogeCArIHhNYXgpIC8gMy4wLCB5TWF4KTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgICBsZXQgZmlsbENvbG9yID0gc2VsZi5fY29sb3JGcm9tSW50KFxuICAgICAgICAgICAgc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0sXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBDVVNUT006IGZ1bmN0aW9uKHNoYXBlTWFwLCBjdHgpIHtcbiAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieFwiXSk7XG4gICAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInlcIl0pO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ3aWR0aFwiXSk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wiaGVpZ2h0XCJdKTtcblxuICAgICAgICB2YXIgY3VzdG9tU2hhcGUgPSBzaGFwZU1hcFtcImN1c3RvbVNoYXBlXCJdO1xuICAgICAgICB2YXIgc2hhcGVBcmdzID0gY3VzdG9tU2hhcGUuc3BsaXQoXCIgXCIpO1xuXG4gICAgICAgIGxldCBtaW5YID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgbGV0IG1pblkgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgICAgIGxldCBtYXhYID0gTnVtYmVyLk1JTl9WQUxVRTtcbiAgICAgICAgbGV0IG1heFkgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuXG4gICAgICAgIGxldCBsYXN0WDtcbiAgICAgICAgbGV0IGxhc3RZO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhcGVBcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHNoYXBlQXJnc1tpXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgbGV0IG14ID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDFdKTtcbiAgICAgICAgICAgIGxldCBteSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAyXSk7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgbXgpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIG15KTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBteCk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgbXkpO1xuICAgICAgICAgICAgbGFzdFggPSBteDtcbiAgICAgICAgICAgIGxhc3RZID0gbXk7XG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJMXCIpIHtcbiAgICAgICAgICAgIGxldCBseCA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICBsZXQgbHkgPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIGx4KTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBseSk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgbHgpO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGx5KTtcbiAgICAgICAgICAgIGxhc3RYID0gbHg7XG4gICAgICAgICAgICBsYXN0WSA9IGx5O1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiUVwiKSB7XG4gICAgICAgICAgICBsZXQgcTEgPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMV0pO1xuICAgICAgICAgICAgbGV0IHEyID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDJdKTtcbiAgICAgICAgICAgIGxldCBxMyA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAzXSk7XG4gICAgICAgICAgICBsZXQgcTQgPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgNF0pO1xuXG4gICAgICAgICAgICBsZXQgZXh0ZW50ID0gc2VsZi5fcXVhZHJhdGljQ3VydmVCb3VuZGluZ0JveChcbiAgICAgICAgICAgICAgbGFzdFgsXG4gICAgICAgICAgICAgIGxhc3RZLFxuICAgICAgICAgICAgICBxMSxcbiAgICAgICAgICAgICAgcTIsXG4gICAgICAgICAgICAgIHEzLFxuICAgICAgICAgICAgICBxNFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIGV4dGVudC5sZWZ0KTtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBleHRlbnQucmlnaHQpO1xuXG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgZXh0ZW50LmJvdHRvbSk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgZXh0ZW50LnRvcCk7XG5cbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBleHRlbnQubGVmdCk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgZXh0ZW50LnJpZ2h0KTtcblxuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGV4dGVudC5ib3R0b20pO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGV4dGVudC50b3ApO1xuXG4gICAgICAgICAgICBsYXN0WCA9IHEzO1xuICAgICAgICAgICAgbGFzdFkgPSBxNDtcblxuICAgICAgICAgICAgaSArPSA0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiQ1wiKSB7XG4gICAgICAgICAgICBsZXQgYzEgPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMV0pO1xuICAgICAgICAgICAgbGV0IGMyID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDJdKTtcbiAgICAgICAgICAgIGxldCBjMyA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAzXSk7XG4gICAgICAgICAgICBsZXQgYzQgPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgNF0pO1xuICAgICAgICAgICAgbGV0IGM1ID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDVdKTtcbiAgICAgICAgICAgIGxldCBjNiA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA2XSk7XG5cbiAgICAgICAgICAgIGxldCBleHRlbnQgPSBzZWxmLl9iZXppZXJDdXJ2ZUJvdW5kaW5nQm94KFxuICAgICAgICAgICAgICBsYXN0WCxcbiAgICAgICAgICAgICAgbGFzdFksXG4gICAgICAgICAgICAgIGMxLFxuICAgICAgICAgICAgICBjMixcbiAgICAgICAgICAgICAgYzMsXG4gICAgICAgICAgICAgIGM0LFxuICAgICAgICAgICAgICBjNSxcbiAgICAgICAgICAgICAgYzZcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBleHRlbnQubGVmdCk7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZXh0ZW50LnJpZ2h0KTtcblxuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIGV4dGVudC5ib3R0b20pO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIGV4dGVudC50b3ApO1xuXG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgZXh0ZW50LmxlZnQpO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIGV4dGVudC5yaWdodCk7XG5cbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBleHRlbnQuYm90dG9tKTtcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBleHRlbnQudG9wKTtcblxuICAgICAgICAgICAgbGFzdFggPSBjNTtcbiAgICAgICAgICAgIGxhc3RZID0gYzY7XG5cbiAgICAgICAgICAgIGkgKz0gNjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2NhbGVYID0gd2lkdGggLyAobWF4WCAtIG1pblgpO1xuICAgICAgICBsZXQgc2NhbGVZID0gaGVpZ2h0IC8gKG1heFkgLSBtaW5ZKTtcblxuICAgICAgICBsZXQgYmFzZVggPSB4IC0gc2NhbGVYICogbWluWDtcbiAgICAgICAgbGV0IGJhc2VZID0geSAtIHNjYWxlWSAqIG1pblk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhcGVBcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHNoYXBlQXJnc1tpXSA9PSBcIk5aXCIpIHtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3pGaWxsUnVsZSA9IFwibm9uemVyb1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiRU9cIikge1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vekZpbGxSdWxlID0gXCJldmVub2RkXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgIGxldCBteCA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDFdKTtcbiAgICAgICAgICAgIGxldCBteSA9IGJhc2VZICsgc2NhbGVZICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDJdKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8obXgsIG15KTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNoYXBlQXJnc1tpXSA9PSBcIkxcIikge1xuICAgICAgICAgICAgbGV0IGx4ID0gYmFzZVggKyBzY2FsZVggKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMV0pO1xuICAgICAgICAgICAgbGV0IGx5ID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhseCwgbHkpO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiUVwiKSB7XG4gICAgICAgICAgICBsZXQgcTEgPSBiYXNlWCArIHNjYWxlWCAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICBsZXQgcTIgPSBiYXNlWSArIHNjYWxlWSAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAyXSk7XG4gICAgICAgICAgICBsZXQgcTMgPSBiYXNlWCArIHNjYWxlWCAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAzXSk7XG4gICAgICAgICAgICBsZXQgcTQgPSBiYXNlWSArIHNjYWxlWSAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA0XSk7XG4gICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhxMSwgcTIsIHEzLCBxNCk7XG4gICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJDXCIpIHtcbiAgICAgICAgICAgIGxldCBjMSA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDFdKTtcbiAgICAgICAgICAgIGxldCBjMiA9IGJhc2VZICsgc2NhbGVZICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDJdKTtcbiAgICAgICAgICAgIGxldCBjMyA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDNdKTtcbiAgICAgICAgICAgIGxldCBjNCA9IGJhc2VZICsgc2NhbGVZICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDRdKTtcbiAgICAgICAgICAgIGxldCBjNSA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDVdKTtcbiAgICAgICAgICAgIGxldCBjNiA9IGJhc2VZICsgc2NhbGVZICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDZdKTtcbiAgICAgICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKGMxLCBjMiwgYzMsIGM0LCBjNSwgYzYpO1xuICAgICAgICAgICAgaSArPSA2O1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiWlwiKSB7XG4gICAgICAgICAgICAvL2N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgICBsZXQgZmlsbENvbG9yID0gc2VsZi5fY29sb3JGcm9tSW50KFxuICAgICAgICAgICAgc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0sXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9jb2xvckZyb21JbnQgPSBmdW5jdGlvbihudW0sIGFscGhhKSB7XG4gICAgICBudW0gPj4+PSAwO1xuICAgICAgdmFyIGIgPSBudW0gJiAweGZmLFxuICAgICAgICBnID0gKG51bSAmIDB4ZmYwMCkgPj4+IDgsXG4gICAgICAgIHIgPSAobnVtICYgMHhmZjAwMDApID4+PiAxNixcbiAgICAgICAgYSA9IHBhcnNlRmxvYXQoYWxwaGEpIC8gMTAwO1xuXG4gICAgICByZXR1cm4gXCJyZ2IoXCIgKyByICsgXCIsXCIgKyBnICsgXCIsXCIgKyBiICsgXCIsXCIgKyBhICsgXCIpXCI7XG4gICAgfTtcbiAgfVxuXG4gIGRyYXdCYWNrZ3JvdW5kRnJvbU5pY2VDWChjeXRvc2NhcGVJbnN0YW5jZSwgbmljZUNYKSB7XG4gICAgY29uc3QgY3gyanMgPSB0aGlzLmN4MmpzO1xuICAgIGNvbnN0IGN4QkdDb2xvciA9IGN4MmpzLmN5QmFja2dyb3VuZENvbG9yRnJvbU5pY2VDWChuaWNlQ1gpO1xuICAgIHRoaXMuZHJhd0JhY2tncm91bmQoY3l0b3NjYXBlSW5zdGFuY2UsIGN4QkdDb2xvcik7XG4gIH1cblxuICBkcmF3QmFja2dyb3VuZChjeXRvc2NhcGVJbnN0YW5jZSwgY3hCR0NvbG9yKSB7XG4gICAgY29uc3QgYmFja2dyb3VuZExheWVyID0gY3l0b3NjYXBlSW5zdGFuY2UuY3lDYW52YXMoe1xuICAgICAgekluZGV4OiAtMlxuICAgIH0pO1xuXG4gICAgY29uc3QgYmFja2dyb3VuZENhbnZhcyA9IGJhY2tncm91bmRMYXllci5nZXRDYW52YXMoKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kQ3R4ID0gYmFja2dyb3VuZENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBjeXRvc2NhcGVJbnN0YW5jZS5vbihcInJlbmRlciBjeUNhbnZhcy5yZXNpemVcIiwgZXZ0ID0+IHtcbiAgICAgIGJhY2tncm91bmRDdHguZmlsbFN0eWxlID0gY3hCR0NvbG9yO1xuICAgICAgYmFja2dyb3VuZEN0eC5maWxsUmVjdChcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgYmFja2dyb3VuZENhbnZhcy53aWR0aCxcbiAgICAgICAgYmFja2dyb3VuZENhbnZhcy5oZWlnaHRcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRBbm5vdGF0aW9uRWxlbWVudHNGcm9tTmljZUNYKG5pY2VDWCkge1xuICAgIGlmIChuaWNlQ1hbXCJuZXR3b3JrQXR0cmlidXRlc1wiXSkge1xuICAgICAgICByZXR1cm4gbmljZUNYW1wibmV0d29ya0F0dHJpYnV0ZXNcIl1bXCJlbGVtZW50c1wiXS5maWx0ZXIoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50W1wiblwiXSA9PSBcIl9fQW5ub3RhdGlvbnNcIjtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgfVxuXG4gIGRyYXdBbm5vdGF0aW9uc0Zyb21Bbm5vdGF0aW9uRWxlbWVudHMoY3l0b3NjYXBlSW5zdGFuY2UsIGFubm90YXRpb25FbGVtZW50cykge1xuICAgIGNvbnN0IGN4MmpzID0gdGhpcy5jeDJqcztcbiAgICAvL2NvbnNvbGUubG9nKFwic2V0dGluZyB1cCBhbm5vdGF0aW9uc1wiKTtcbiAgICBjb25zdCBib3R0b21MYXllciA9IGN5dG9zY2FwZUluc3RhbmNlLmN5Q2FudmFzKHtcbiAgICAgIHpJbmRleDogLTFcbiAgICB9KTtcblxuICAgIGNvbnN0IHRvcExheWVyID0gY3l0b3NjYXBlSW5zdGFuY2UuY3lDYW52YXMoe1xuICAgICAgekluZGV4OiAxXG4gICAgfSk7XG5cbiAgICBjb25zdCBib3R0b21DYW52YXMgPSBib3R0b21MYXllci5nZXRDYW52YXMoKTtcbiAgICBjb25zdCBib3R0b21DdHggPSBib3R0b21DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgY29uc3QgdG9wQ2FudmFzID0gdG9wTGF5ZXIuZ2V0Q2FudmFzKCk7XG4gICAgY29uc3QgdG9wQ3R4ID0gdG9wQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGN5dG9zY2FwZUluc3RhbmNlLm9uKFwicmVuZGVyIGN5Q2FudmFzLnJlc2l6ZVwiLCBldnQgPT4ge1xuICAgICAgdmFyIGNvbG9yRnJvbUludCA9IHRoaXMuX2NvbG9yRnJvbUludDtcbiAgICAgIHZhciBzaGFwZUZ1bmN0aW9ucyA9IHRoaXMuX3NoYXBlRnVuY3Rpb25zO1xuICAgICAgLy9jb25zb2xlLmxvZyhcInJlbmRlciBjeUNhbnZhcy5yZXNpemUgZXZlbnRcIik7XG4gICAgICBib3R0b21MYXllci5yZXNldFRyYW5zZm9ybShib3R0b21DdHgpO1xuICAgICAgYm90dG9tTGF5ZXIuY2xlYXIoYm90dG9tQ3R4KTtcbiAgICAgIGJvdHRvbUxheWVyLnNldFRyYW5zZm9ybShib3R0b21DdHgpO1xuXG4gICAgICBib3R0b21DdHguc2F2ZSgpO1xuXG4gICAgICB0b3BMYXllci5yZXNldFRyYW5zZm9ybSh0b3BDdHgpO1xuICAgICAgdG9wTGF5ZXIuY2xlYXIodG9wQ3R4KTtcbiAgICAgIHRvcExheWVyLnNldFRyYW5zZm9ybSh0b3BDdHgpO1xuXG4gICAgICB0b3BDdHguc2F2ZSgpO1xuXG4gICAgICB2YXIgaW5kZXhlZEFubm90YXRpb25zID0ge307XG4gICAgICB2YXIgdG9wQW5ub3RhdGlvbnMgPSBbXTtcbiAgICAgIHZhciBib3R0b21Bbm5vdGF0aW9ucyA9IFtdO1xuXG4gICAgICBhbm5vdGF0aW9uRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnRbXCJ2XCJdLmZvckVhY2goZnVuY3Rpb24oYW5ub3RhdGlvbikge1xuICAgICAgICAgIHZhciBhbm5vdGF0aW9uS1ZMaXN0ID0gYW5ub3RhdGlvbi5zcGxpdChcInxcIik7XG4gICAgICAgICAgdmFyIGFubm90YXRpb25NYXAgPSB7fTtcbiAgICAgICAgICBhbm5vdGF0aW9uS1ZMaXN0LmZvckVhY2goZnVuY3Rpb24oYW5ub3RhdGlvbktWKSB7XG4gICAgICAgICAgICB2YXIga3ZQYWlyID0gYW5ub3RhdGlvbktWLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgIGFubm90YXRpb25NYXBba3ZQYWlyWzBdXSA9IGt2UGFpclsxXTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGluZGV4ZWRBbm5vdGF0aW9uc1thbm5vdGF0aW9uTWFwW1widXVpZFwiXV0gPSBhbm5vdGF0aW9uTWFwO1xuXG4gICAgICAgICAgaWYgKGFubm90YXRpb25NYXBbXCJjYW52YXNcIl0gPT0gXCJmb3JlZ3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHRvcEFubm90YXRpb25zLnB1c2goYW5ub3RhdGlvbk1hcFtcInV1aWRcIl0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3R0b21Bbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb25NYXBbXCJ1dWlkXCJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB2YXIgek9yZGVyQ29tcGFyZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgbGV0IGFubm90YXRpb25BID0gaW5kZXhlZEFubm90YXRpb25zW2FdO1xuICAgICAgICBsZXQgYW5ub3RhdGlvbkIgPSBpbmRleGVkQW5ub3RhdGlvbnNbYl07XG4gICAgICAgIHJldHVybiBwYXJzZUludChhbm5vdGF0aW9uQltcInpcIl0pIC0gcGFyc2VJbnQoYW5ub3RhdGlvbkFbXCJ6XCJdKTtcbiAgICAgIH07XG5cbiAgICAgIHRvcEFubm90YXRpb25zLnNvcnQoek9yZGVyQ29tcGFyZSk7XG4gICAgICBib3R0b21Bbm5vdGF0aW9ucy5zb3J0KHpPcmRlckNvbXBhcmUpO1xuXG4gICAgICB2YXIgY29udGV4dEFubm90YXRpb25NYXAgPSBbXG4gICAgICAgIHsgY29udGV4dDogdG9wQ3R4LCBhbm5vdGF0aW9uczogdG9wQW5ub3RhdGlvbnMgfSxcbiAgICAgICAgeyBjb250ZXh0OiBib3R0b21DdHgsIGFubm90YXRpb25zOiBib3R0b21Bbm5vdGF0aW9ucyB9XG4gICAgICBdO1xuICAgICAgY29udGV4dEFubm90YXRpb25NYXAuZm9yRWFjaChmdW5jdGlvbihjb250ZXh0QW5ub3RhdGlvblBhaXIpIHtcbiAgICAgICAgbGV0IGN0eCA9IGNvbnRleHRBbm5vdGF0aW9uUGFpci5jb250ZXh0O1xuICAgICAgICBjb250ZXh0QW5ub3RhdGlvblBhaXIuYW5ub3RhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihhbm5vdGF0aW9uVVVJRCkge1xuICAgICAgICAgIGxldCBhbm5vdGF0aW9uTWFwID0gaW5kZXhlZEFubm90YXRpb25zW2Fubm90YXRpb25VVUlEXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1widHlwZVwiXSA9PVxuICAgICAgICAgICAgICBcIm9yZy5jeXRvc2NhcGUudmlldy5wcmVzZW50YXRpb24uYW5ub3RhdGlvbnMuU2hhcGVBbm5vdGF0aW9uXCIgfHxcbiAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJ0eXBlXCJdID09XG4gICAgICAgICAgICAgIFwib3JnLmN5dG9zY2FwZS52aWV3LnByZXNlbnRhdGlvbi5hbm5vdGF0aW9ucy5Cb3VuZGVkVGV4dEFubm90YXRpb25cIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy9jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gYW5ub3RhdGlvbk1hcFtcImVkZ2VUaGlja25lc3NcIl07XG5cbiAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJ3aWR0aFwiXSA9XG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcIndpZHRoXCJdKSAvXG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcInpvb21cIl0pO1xuICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcImhlaWdodFwiXSA9XG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcImhlaWdodFwiXSkgL1xuICAgICAgICAgICAgICBwYXJzZUZsb2F0KGFubm90YXRpb25NYXBbXCJ6b29tXCJdKTtcbiAgICAgICAgICAgIGlmIChzaGFwZUZ1bmN0aW9uc1thbm5vdGF0aW9uTWFwW1wic2hhcGVUeXBlXCJdXSkge1xuICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvckZyb21JbnQoXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcImVkZ2VDb2xvclwiXSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZWRnZU9wYWNpdHlcIl1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgc2hhcGVGdW5jdGlvbnNbYW5ub3RhdGlvbk1hcFtcInNoYXBlVHlwZVwiXV0oYW5ub3RhdGlvbk1hcCwgY3R4KTtcblxuICAgICAgICAgICAgICAvL2N0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkludmFsaWQgc2hhcGUgdHlwZTogXCIgKyBhbm5vdGF0aW9uTWFwW1wic2hhcGVUeXBlXCJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcInR5cGVcIl0gPT1cbiAgICAgICAgICAgIFwib3JnLmN5dG9zY2FwZS52aWV3LnByZXNlbnRhdGlvbi5hbm5vdGF0aW9ucy5BcnJvd0Fubm90YXRpb25cIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1widGFyZ2V0QW5ub3RhdGlvblwiXSAmJlxuICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wic291cmNlQW5ub3RhdGlvblwiXVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGxldCBzb3VyY2VBbm5vdGF0aW9uID1cbiAgICAgICAgICAgICAgICBpbmRleGVkQW5ub3RhdGlvbnNbYW5ub3RhdGlvbk1hcFtcInNvdXJjZUFubm90YXRpb25cIl1dO1xuICAgICAgICAgICAgICBsZXQgdGFyZ2V0QW5ub3RhdGlvbiA9XG4gICAgICAgICAgICAgICAgaW5kZXhlZEFubm90YXRpb25zW2Fubm90YXRpb25NYXBbXCJ0YXJnZXRBbm5vdGF0aW9uXCJdXTtcblxuICAgICAgICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGlzIGEgc3RhcnQgdG8gaW1wbGVtZW50aW5nIGFycm93IGFubm90YXRpb25zLiBUbyBmb2xsb3cgQ3l0b3NjYXBlJ3NcbiAgICAgICAgICAgICAgLy8gaW1wbGVtZW50YXRpb24sIGl0IHdvdWxkIHRha2UgYSBncmVhdCBkZWFsIG9mIG1hdGggYW5kIHNwZWNpYWwgY2FzZXMsIHNvIGhhcyBiZWVuXG4gICAgICAgICAgICAgIC8vIGxlZnQgZm9yIGxhdGVyIHdvcmsuXG4gICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3VyY2VYID0gc291cmNlQW5ub3RhdGlvblsneCddO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc291cmNlWSA9IHNvdXJjZUFubm90YXRpb25bJ3knXTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0WCA9IHRhcmdldEFubm90YXRpb25bJ3gnXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldFkgPSB0YXJnZXRBbm5vdGF0aW9uWyd5J107XG5cbiAgICAgICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyhzb3VyY2VYLCBzb3VyY2VZKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVUbyh0YXJnZXRYLCB0YXJnZXRZKTtcblxuICAgICAgICAgICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB0ZXh0O1xuICAgICAgICAgIHZhciB0ZXh0WDtcbiAgICAgICAgICB2YXIgdGV4dFk7XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1widHlwZVwiXSA9PVxuICAgICAgICAgICAgXCJvcmcuY3l0b3NjYXBlLnZpZXcucHJlc2VudGF0aW9uLmFubm90YXRpb25zLlRleHRBbm5vdGF0aW9uXCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRleHQgPSBhbm5vdGF0aW9uTWFwW1widGV4dFwiXTtcbiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgdGV4dFggPSBhbm5vdGF0aW9uTWFwW1wieFwiXTtcbiAgICAgICAgICAgIHRleHRZID0gYW5ub3RhdGlvbk1hcFtcInlcIl07XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJ0eXBlXCJdID09XG4gICAgICAgICAgICBcIm9yZy5jeXRvc2NhcGUudmlldy5wcmVzZW50YXRpb24uYW5ub3RhdGlvbnMuQm91bmRlZFRleHRBbm5vdGF0aW9uXCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRleHQgPSBhbm5vdGF0aW9uTWFwW1widGV4dFwiXTtcblxuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblxuICAgICAgICAgICAgdGV4dFggPSBwYXJzZUZsb2F0KGFubm90YXRpb25NYXBbXCJ4XCJdKSArIGFubm90YXRpb25NYXBbXCJ3aWR0aFwiXSAvIDI7XG4gICAgICAgICAgICB0ZXh0WSA9XG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcInlcIl0pICsgYW5ub3RhdGlvbk1hcFtcImhlaWdodFwiXSAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0ZXh0ICYmIHRleHRYICYmIHRleHRZKSB7XG4gICAgICAgICAgICB2YXIgZm9udFNpemUgPVxuICAgICAgICAgICAgICBwYXJzZUZsb2F0KGFubm90YXRpb25NYXBbXCJmb250U2l6ZVwiXSkgL1xuICAgICAgICAgICAgICBwYXJzZUZsb2F0KGFubm90YXRpb25NYXBbXCJ6b29tXCJdKTtcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5O1xuXG4gICAgICAgICAgICBpZiAoYW5ub3RhdGlvbk1hcFtcImZvbnRGYW1pbHlcIl0pIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGN4MmpzLkphdmFMb2dpY2FsRm9udENvbnN0YW50cy5GT05UX0ZBTUlMWV9MSVNULmluY2x1ZGVzKFxuICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcImZvbnRGYW1pbHlcIl1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPVxuICAgICAgICAgICAgICAgICAgY3gyanMuSmF2YUxvZ2ljYWxGb250Q29uc3RhbnRzLkZPTlRfU1RBQ0tfTUFQW1xuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZm9udEZhbWlseVwiXVxuICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBjeDJqcy5Db21tb25PU0ZvbnRDb25zdGFudHMuRk9OVF9TVEFDS19NQVBbXG4gICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZm9udEZhbWlseVwiXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9XG4gICAgICAgICAgICAgICAgICBjeDJqcy5Db21tb25PU0ZvbnRDb25zdGFudHMuRk9OVF9TVEFDS19NQVBbXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJmb250RmFtaWx5XCJdXG4gICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcInNhbnMtc2VyaWZcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmZvbnQgPSBmb250U2l6ZSArIFwicHggXCIgKyBmb250RmFtaWx5O1xuXG4gICAgICAgICAgICBpZiAoYW5ub3RhdGlvbk1hcFtcImNvbG9yXCJdKSB7XG4gICAgICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBjb2xvckZyb21JbnQoYW5ub3RhdGlvbk1hcFtcImNvbG9yXCJdLCBcIjEwMFwiKTtcbiAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LnRvU3RyaW5nKCksIHRleHRYLCB0ZXh0WSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0b3BDdHgucmVzdG9yZSgpO1xuICAgICAgYm90dG9tQ3R4LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRyYXdBbm5vdGF0aW9uc0Zyb21OaWNlQ1goY3l0b3NjYXBlSW5zdGFuY2UsIG5pY2VDWCkge1xuICAgIGNvbnN0IGFubm90YXRpb25FbGVtZW50cyA9IHRoaXMuZ2V0QW5ub3RhdGlvbkVsZW1lbnRzRnJvbU5pY2VDWChuaWNlQ1gpO1xuICAgIHRoaXMuZHJhd0Fubm90YXRpb25zRnJvbUFubm90YXRpb25FbGVtZW50cyhjeXRvc2NhcGVJbnN0YW5jZSwgYW5ub3RhdGlvbkVsZW1lbnRzKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgQ3hUb0N5Q2FudmFzIH07XG4iXSwic291cmNlUm9vdCI6IiJ9