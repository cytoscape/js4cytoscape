!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports["@js4cytoscape/cyannotationCx2js"]=o():t["@js4cytoscape/cyannotationCx2js"]=o()}(window,function(){return function(t){var o={};function e(a){if(o[a])return o[a].exports;var n=o[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=o,e.d=function(t,o,a){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)e.d(a,n,function(o){return t[o]}.bind(null,n));return a},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){"use strict";var a=e(1).CxToCyCanvas;t.exports={CxToCyCanvas:a}},function(t,o,e){"use strict";var a=function(){function t(t,o){for(var e=0;e<o.length;e++){var a=o[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(o,e,a){return e&&t(o.prototype,e),a&&t(o,a),o}}();var n=function(){function t(o){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t);var e=this;e.cx2js=o,this._findIntersection=function(t,o,e,a){var n=(a.y-e.y)*(o.x-t.x)-(a.x-e.x)*(o.y-t.y),r=((a.x-e.x)*(t.y-e.y)-(a.y-e.y)*(t.x-e.x))/n;return{x:this._epsilon(t.x+r*(o.x-t.x)),y:this._epsilon(t.y+r*(o.y-t.y))}},this._epsilon=function(t){return Math.abs(t)<1e-10?0:t},this._circleX=function(t,o,e){var a=o/t;return e&&t%2==0?(8==t&&(a+=.5/t),this._epsilon(Math.cos(2*a*Math.PI))):this._epsilon(Math.cos(2*a*Math.PI-Math.PI/2))},this._circleY=function(t,o,e){var a=o/t;return e&&t%2==0?(8==t&&(a+=.5/t),this._epsilon(Math.sin(2*a*Math.PI))):this._epsilon(Math.sin(2*a*Math.PI-Math.PI/2))},this._regularPolygonShapeFunction=function(t,o,a){a.beginPath();for(var n=parseFloat(t.width)/2,r=parseFloat(t.height)/2,i=parseFloat(t.x)+n,l=parseFloat(t.y)+r,s=[],c=0;c<o;c++){var f=this._circleX(o,c,!0)*n+i,u=this._circleY(o,c,!0)*r+l;s.push({x:f,y:u})}a.moveTo(s[0].x,s[0].y);for(var h=1;h<o;h++)a.lineTo(s[h].x,s[h].y);if(a.closePath(),t.fillColor){var p=e._colorFromInt(t.fillColor,t.fillOpacity);a.fillStyle=p,a.fill()}a.stroke()},this._starShapeFunction=function(t,o,a){a.beginPath();for(var n=parseFloat(t.width)/2,r=parseFloat(t.height)/2,i=parseFloat(t.x)+n,l=parseFloat(t.y)+r,s=2*o,c=[],f=0;f<s;f++)c.push({});for(var u=0;u<o;u++){var h=this._circleX(o,u,!1)*n+i,p=this._circleY(o,u,!1)*r+l,v=this._circleX(o,(u+2)%o,!1)*n+i,y=this._circleY(o,(u+2)%o,!1)*r+l;c[2*u]={x:h,y:p},c[(2*u+4)%s]={x:v,y:y}}for(var F=0;F<s;F+=2){var m=F,d=(F+4)%s,x=(F+2)%s,g=(x+s-4)%s;c[(F+1)%s]=this._findIntersection(c[m],c[d],c[x],c[g])}a.moveTo(c[0].x,c[0].y);for(var C=1;C<s;C++)a.lineTo(c[C].x,c[C].y);if(a.closePath(),t.fillColor){var _=e._colorFromInt(t.fillColor,t.fillOpacity);a.fillStyle=_,a.fill()}a.stroke()},this._scaleCustomPoint=function(t,o,e,a){return a*(o+t)/(e-o)},this._quadraticCurveBoundingBox=function(t,o,e,a,n,r){var i,l,s,c,f,u,h,p;h=t,p=o,((s=(l=e-t)/(i=n-t))<0||s>1)&&(h=l*l/(2*l-i)+t),((u=(f=a-o)/(c=r-o))<0||u>1)&&(p=f*f/(2*f-c)+o);var v={};return v.left=Math.min(t,n,h),v.top=Math.min(o,r,p),v.right=Math.max(t,n,h),v.bottom=Math.max(o,r,p),v.width=v.right-v.left,v.height=v.bottom-v.top,v},this._evalBez=function(t,o,e,a,n){return t*(1-n)*(1-n)*(1-n)+3*o*n*(1-n)*(1-n)+3*e*n*n*(1-n)+a*n*n*n},this._bezierCurveBoundingBox=function(t,o,a,n,r,i,l,s){var c=3*l-9*r+9*a-3*t,f=6*t-12*a+6*r,u=3*a-3*t,h=f*f-4*c*u,p=t,v=t;if(l<p&&(p=l),l>v&&(v=l),h>=0){var y=(-f+Math.sqrt(h))/(2*c);if(y>0&&y<1){var F=e._evalBez(t,a,r,l,y);F<p&&(p=F),F>v&&(v=F)}var m=(-f-Math.sqrt(h))/(2*c);if(m>0&&m<1){var d=e._evalBez(t,a,r,l,m);d<p&&(p=d),d>v&&(v=d)}}var x=o,g=o;if(s<x&&(x=s),s>g&&(g=s),(h=(f=6*o-12*n+6*i)*f-4*(c=3*s-9*i+9*n-3*o)*(u=3*n-3*o))>=0){var C=(-f+Math.sqrt(h))/(2*c);if(C>0&&C<1){var _=e._evalBez(o,n,i,s,C);_<x&&(x=_),_>g&&(g=_)}var M=(-f-Math.sqrt(h))/(2*c);if(M>0&&M<1){var T=e._evalBez(o,n,i,s,M);T<x&&(x=T),T>g&&(g=T)}}var b={};return b.left=p,b.top=x,b.right=v,b.bottom=g,b.width=b.right-b.left,b.height=b.bottom-b.top,b},this._shapeFunctions={RECTANGLE:function(t,o){if(o.beginPath(),o.rect(t.x,t.y,t.width,t.height),o.closePath(),t.fillColor){var a=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=a,o.fill()}o.stroke()},ROUNDEDRECTANGLE:function(t,o){var a=parseFloat(t.width),n=parseFloat(t.height),r=.1*a,i=parseFloat(t.x),l=parseFloat(t.y);if(o.beginPath(),o.moveTo(i+r,l),o.lineTo(i+a-r,l),o.quadraticCurveTo(i+a,l,i+a,l+r),o.lineTo(i+a,l+n-r),o.quadraticCurveTo(i+a,l+n,i+a-r,l+n),o.lineTo(i+r,l+n),o.quadraticCurveTo(i,l+n,i,l+n-r),o.lineTo(i,l+r),o.quadraticCurveTo(i,l,i+r,l),o.closePath(),t.fillColor){var s=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=s,o.fill()}o.stroke()},ELLIPSE:function(t,o){var a=parseFloat(t.width)/2,n=parseFloat(t.height)/2,r=parseFloat(t.x)+a,i=parseFloat(t.y)+n;if(o.beginPath(),o.ellipse(r,i,a,n,0,0,2*Math.PI),o.closePath(),t.fillColor){var l=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=l,o.fill()}o.stroke()},STAR5:function(t,o){e._starShapeFunction(t,5,o)},STAR6:function(t,o){e._starShapeFunction(t,6,o)},TRIANGLE:function(t,o){e._regularPolygonShapeFunction(t,3,o)},PENTAGON:function(t,o){e._regularPolygonShapeFunction(t,5,o)},HEXAGON:function(t,o){e._regularPolygonShapeFunction(t,6,o)},OCTAGON:function(t,o){e._regularPolygonShapeFunction(t,8,o)},PARALLELOGRAM:function(t,o){var a=parseFloat(t.x),n=parseFloat(t.y),r=a+parseFloat(t.width),i=n+parseFloat(t.height);if(o.beginPath(),o.moveTo(a,n),o.lineTo((2*r+a)/3,n),o.lineTo(r,i),o.lineTo((2*a+r)/3,i),o.closePath(),t.fillColor){var l=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=l,o.fill()}},CUSTOM:function(t,o){for(var a=parseFloat(t.x),n=parseFloat(t.y),r=parseFloat(t.width),i=parseFloat(t.height),l=t.customShape.split(" "),s=Number.MAX_VALUE,c=Number.MAX_VALUE,f=Number.MIN_VALUE,u=Number.MIN_VALUE,h=void 0,p=void 0,v=0;v<l.length;v++)if("M"==l[v]){var y=parseFloat(l[v+1]),F=parseFloat(l[v+2]);s=Math.min(s,y),c=Math.min(c,F),f=Math.max(f,y),u=Math.max(u,F),h=y,p=F,v+=2}else if("L"==l[v]){var m=parseFloat(l[v+1]),d=parseFloat(l[v+2]);s=Math.min(s,m),c=Math.min(c,d),f=Math.max(f,m),u=Math.max(u,d),h=m,p=d,v+=2}else if("Q"==l[v]){var x=parseFloat(l[v+1]),g=parseFloat(l[v+2]),C=parseFloat(l[v+3]),_=parseFloat(l[v+4]),M=e._quadraticCurveBoundingBox(h,p,x,g,C,_);s=Math.min(s,M.left),s=Math.min(s,M.right),c=Math.min(c,M.bottom),c=Math.min(c,M.top),f=Math.max(f,M.left),f=Math.max(f,M.right),u=Math.max(u,M.bottom),u=Math.max(u,M.top),h=C,p=_,v+=4}else if("C"==l[v]){var T=parseFloat(l[v+1]),b=parseFloat(l[v+2]),A=parseFloat(l[v+3]),P=parseFloat(l[v+4]),S=parseFloat(l[v+5]),w=parseFloat(l[v+6]),I=e._bezierCurveBoundingBox(h,p,T,b,A,P,S,w);s=Math.min(s,I.left),s=Math.min(s,I.right),c=Math.min(c,I.bottom),c=Math.min(c,I.top),f=Math.max(f,I.left),f=Math.max(f,I.right),u=Math.max(u,I.bottom),u=Math.max(u,I.top),h=S,p=w,v+=6}var O=r/(f-s),E=i/(u-c),N=a-O*s,z=n-E*c;o.beginPath();for(var k=0;k<l.length;k++)if("NZ"==l[k])o.closePath(),o.beginPath(),o.mozFillRule="nonzero";else if("EO"==l[k])o.closePath(),o.beginPath(),o.mozFillRule="evenodd";else if("M"==l[k]){var B=N+O*parseFloat(l[k+1]),j=z+E*parseFloat(l[k+2]);o.moveTo(B,j),k+=2}else if("L"==l[k]){var L=N+O*parseFloat(l[k+1]),X=z+E*parseFloat(l[k+2]);o.lineTo(L,X),k+=2}else if("Q"==l[k]){var q=N+O*parseFloat(l[k+1]),R=z+E*parseFloat(l[k+2]),G=N+O*parseFloat(l[k+3]),U=z+E*parseFloat(l[k+4]);o.quadraticCurveTo(q,R,G,U),k+=4}else if("C"==l[k]){var Y=N+O*parseFloat(l[k+1]),V=z+E*parseFloat(l[k+2]),K=N+O*parseFloat(l[k+3]),D=z+E*parseFloat(l[k+4]),J=N+O*parseFloat(l[k+5]),Q=z+E*parseFloat(l[k+6]);o.bezierCurveTo(Y,V,K,D,J,Q),k+=6}else l[k];if(o.closePath(),t.fillColor){var H=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=H,o.fill()}o.stroke()}},this._colorFromInt=function(t,o){return"rgb("+((16711680&(t>>>=0))>>>16)+","+((65280&t)>>>8)+","+(255&t)+","+parseFloat(o)/100+")"}}return a(t,[{key:"drawBackgroundFromNiceCX",value:function(t,o){var e=this.cx2js.cyBackgroundColorFromNiceCX(o);this.drawBackground(t,e)}},{key:"drawBackground",value:function(t,o){var e=t.cyCanvas({zIndex:-2}).getCanvas(),a=e.getContext("2d");t.on("render cyCanvas.resize",function(t){a.fillStyle=o,a.fillRect(0,0,e.width,e.height)})}},{key:"getAnnotationElementsFromNiceCX",value:function(t){return t.networkAttributes?t.networkAttributes.elements.filter(function(t){return"__Annotations"==t.n}):[]}},{key:"drawAnnotationsFromAnnotationElements",value:function(t,o){var e=this,a=this.cx2js,n=t.cyCanvas({zIndex:-1}),r=t.cyCanvas({zIndex:1}),i=n.getCanvas().getContext("2d"),l=r.getCanvas().getContext("2d");t.on("render cyCanvas.resize",function(t){var s=e._colorFromInt,c=e._shapeFunctions;n.resetTransform(i),n.clear(i),n.setTransform(i),i.save(),r.resetTransform(l),r.clear(l),r.setTransform(l),l.save();var f={},u=[],h=[];o.forEach(function(t){t.v.forEach(function(t){var o=t.split("|"),e={};o.forEach(function(t){var o=t.split("=");e[o[0]]=o[1]}),f[e.uuid]=e,"foreground"==e.canvas?u.push(e.uuid):h.push(e.uuid)})});var p=function(t,o){var e=f[t],a=f[o];return parseInt(a.z)-parseInt(e.z)};u.sort(p),h.sort(p),[{context:l,annotations:u},{context:i,annotations:h}].forEach(function(t){var o=t.context;t.annotations.forEach(function(t){var e,n,r,i=f[t];if("org.cytoscape.view.presentation.annotations.ShapeAnnotation"==i.type||"org.cytoscape.view.presentation.annotations.BoundedTextAnnotation"==i.type)o.lineWidth=i.edgeThickness,i.width=parseFloat(i.width)/parseFloat(i.zoom),i.height=parseFloat(i.height)/parseFloat(i.zoom),c[i.shapeType]?(o.strokeStyle=s(i.edgeColor,i.edgeOpacity),c[i.shapeType](i,o)):console.warn("Invalid shape type: "+i.shapeType);else if("org.cytoscape.view.presentation.annotations.ArrowAnnotation"==i.type&&i.targetAnnotation&&i.sourceAnnotation){f[i.sourceAnnotation],f[i.targetAnnotation];o.stroke()}if("org.cytoscape.view.presentation.annotations.TextAnnotation"==i.type?(e=i.text,o.textBaseline="top",o.textAlign="left",n=i.x,r=i.y):"org.cytoscape.view.presentation.annotations.BoundedTextAnnotation"==i.type&&(e=i.text,o.textBaseline="middle",o.textAlign="center",n=parseFloat(i.x)+i.width/2,r=parseFloat(i.y)+i.height/2),e&&n&&r){var l,u=i.zoom?parseFloat(i.zoom):1,h=parseFloat(i.fontSize)/u;if(i.fontFamily&&(l=a.JavaLogicalFontConstants.FONT_FAMILY_LIST.includes(i.fontFamily)?a.JavaLogicalFontConstants.FONT_STACK_MAP[i.fontFamily]:a.CommonOSFontConstants.FONT_STACK_MAP[i.fontFamily]?a.CommonOSFontConstants.FONT_STACK_MAP[i.fontFamily]:"sans-serif"),o.font=h+"px "+l,i.color){var p=s(i.color,"100");o.fillStyle=p}o.fillText(e.toString(),n,r)}})}),l.restore(),i.restore()})}},{key:"drawAnnotationsFromNiceCX",value:function(t,o){var e=this.getAnnotationElementsFromNiceCX(o);this.drawAnnotationsFromAnnotationElements(t,e)}}]),t}();t.exports={CxToCyCanvas:n}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AanM0Y3l0b3NjYXBlL2N5YW5ub3RhdGlvbkN4MmpzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9AanM0Y3l0b3NjYXBlL2N5YW5ub3RhdGlvbkN4MmpzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0BqczRjeXRvc2NhcGUvY3lhbm5vdGF0aW9uQ3gyanMvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQGpzNGN5dG9zY2FwZS9jeWFubm90YXRpb25DeDJqcy8uL3NyYy9jeF90b19jeV9jYW52YXMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkN4VG9DeUNhbnZhcyIsInJlcXVpcmUiLCJjeDJqcyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJzZWxmIiwiX2ZpbmRJbnRlcnNlY3Rpb24iLCJwMSIsInAyIiwicDMiLCJwNCIsImRlbm9taW5hdG9yIiwidWEiLCJ4IiwiX2Vwc2lsb24iLCJ5IiwidiIsIk1hdGgiLCJhYnMiLCJfY2lyY2xlWCIsInNpZGVzIiwiYW5nbGUiLCJyb3QiLCJjb2VmZiIsImNvcyIsIlBJIiwiX2NpcmNsZVkiLCJzaW4iLCJfcmVndWxhclBvbHlnb25TaGFwZUZ1bmN0aW9uIiwic2hhcGVNYXAiLCJjdHgiLCJiZWdpblBhdGgiLCJ3aWR0aCIsInBhcnNlRmxvYXQiLCJoZWlnaHQiLCJwb2ludHMiLCJ4MSIsInkxIiwicHVzaCIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsImZpbGxDb2xvciIsIl9jb2xvckZyb21JbnQiLCJmaWxsU3R5bGUiLCJmaWxsIiwic3Ryb2tlIiwiX3N0YXJTaGFwZUZ1bmN0aW9uIiwiblBvaW50cyIsIngyIiwieTIiLCJfc2NhbGVDdXN0b21Qb2ludCIsIm1pbiIsIm1heCIsInNjYWxlIiwiX3F1YWRyYXRpY0N1cnZlQm91bmRpbmdCb3giLCJ4MyIsInkzIiwiYnJ4IiwiYngiLCJicnkiLCJieSIsInB4IiwicHkiLCJleHRlbnQiLCJsZWZ0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJfZXZhbEJleiIsInAwIiwiX2JlemllckN1cnZlQm91bmRpbmdCb3giLCJweDAiLCJweTAiLCJweDEiLCJweTEiLCJweDIiLCJweTIiLCJweDMiLCJweTMiLCJhIiwiYiIsImRpc2MiLCJ4bCIsInhoIiwidDEiLCJzcXJ0IiwidDIiLCJ5bCIsInloIiwiX3NoYXBlRnVuY3Rpb25zIiwiUkVDVEFOR0xFIiwicmVjdCIsIlJPVU5ERURSRUNUQU5HTEUiLCJ0ZW50aFdpZHRoIiwicXVhZHJhdGljQ3VydmVUbyIsIkVMTElQU0UiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwiZWxsaXBzZSIsIlNUQVI1IiwiU1RBUjYiLCJUUklBTkdMRSIsIlBFTlRBR09OIiwiSEVYQUdPTiIsIk9DVEFHT04iLCJQQVJBTExFTE9HUkFNIiwieE1heCIsInlNYXgiLCJDVVNUT00iLCJzaGFwZUFyZ3MiLCJzcGxpdCIsIm1pblgiLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJtaW5ZIiwibWF4WCIsIk1JTl9WQUxVRSIsIm1heFkiLCJsYXN0WCIsImxhc3RZIiwibGVuZ3RoIiwibXgiLCJteSIsImx4IiwibHkiLCJxMSIsInEyIiwicTMiLCJxNCIsImMxIiwiYzIiLCJjMyIsImM0IiwiYzUiLCJjNiIsInNjYWxlWCIsInNjYWxlWSIsImJhc2VYIiwiYmFzZVkiLCJtb3pGaWxsUnVsZSIsImJlemllckN1cnZlVG8iLCJudW0iLCJhbHBoYSIsImN5dG9zY2FwZUluc3RhbmNlIiwibmljZUNYIiwiY3hCR0NvbG9yIiwiY3lCYWNrZ3JvdW5kQ29sb3JGcm9tTmljZUNYIiwiZHJhd0JhY2tncm91bmQiLCJiYWNrZ3JvdW5kQ2FudmFzIiwiY3lDYW52YXMiLCJ6SW5kZXgiLCJnZXRDYW52YXMiLCJiYWNrZ3JvdW5kQ3R4IiwiZ2V0Q29udGV4dCIsIm9uIiwiZXZ0IiwiZmlsbFJlY3QiLCJmaWx0ZXIiLCJlbGVtZW50IiwiYW5ub3RhdGlvbkVsZW1lbnRzIiwiX3RoaXMiLCJib3R0b21MYXllciIsInRvcExheWVyIiwiYm90dG9tQ3R4IiwidG9wQ3R4IiwiY29sb3JGcm9tSW50Iiwic2hhcGVGdW5jdGlvbnMiLCJyZXNldFRyYW5zZm9ybSIsImNsZWFyIiwic2V0VHJhbnNmb3JtIiwic2F2ZSIsImluZGV4ZWRBbm5vdGF0aW9ucyIsInRvcEFubm90YXRpb25zIiwiYm90dG9tQW5ub3RhdGlvbnMiLCJmb3JFYWNoIiwiYW5ub3RhdGlvbiIsImFubm90YXRpb25LVkxpc3QiLCJhbm5vdGF0aW9uTWFwIiwiYW5ub3RhdGlvbktWIiwia3ZQYWlyIiwiek9yZGVyQ29tcGFyZSIsImFubm90YXRpb25BIiwiYW5ub3RhdGlvbkIiLCJwYXJzZUludCIsInNvcnQiLCJjb250ZXh0IiwiYW5ub3RhdGlvbnMiLCJjb250ZXh0QW5ub3RhdGlvblBhaXIiLCJhbm5vdGF0aW9uVVVJRCIsInRleHQiLCJ0ZXh0WCIsInRleHRZIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJjb25zb2xlIiwid2FybiIsInRleHRCYXNlbGluZSIsInRleHRBbGlnbiIsImZvbnRGYW1pbHkiLCJ6b29tIiwiZm9udFNpemUiLCJKYXZhTG9naWNhbEZvbnRDb25zdGFudHMiLCJGT05UX0ZBTUlMWV9MSVNUIiwiaW5jbHVkZXMiLCJGT05UX1NUQUNLX01BUCIsIkNvbW1vbk9TRm9udENvbnN0YW50cyIsImZvbnQiLCJmaWxsVGV4dCIsInRvU3RyaW5nIiwicmVzdG9yZSIsImdldEFubm90YXRpb25FbGVtZW50c0Zyb21OaWNlQ1giLCJkcmF3QW5ub3RhdGlvbnNGcm9tQW5ub3RhdGlvbkVsZW1lbnRzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLEdBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsbUNBQUFELElBRUFELEVBQUEsbUNBQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQVAsUUFHQSxJQUFBQyxFQUFBSSxFQUFBRSxHQUFBLENBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsUUFBQSxJQVVBLE9BTkFVLEVBQUFILEdBQUFJLEtBQUFWLEVBQUFELFFBQUFDLElBQUFELFFBQUFNLEdBR0FMLEVBQUFRLEdBQUEsRUFHQVIsRUFBQUQsUUEwREEsT0FyREFNLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FBQWQsRUFBQWUsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQWpCLEVBQUFlLElBQ0FHLE9BQUFDLGVBQUFuQixFQUFBZSxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDVixFQUFBZ0IsRUFBQSxTQUFBdEIsR0FDQSxvQkFBQXVCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFuQixFQUFBdUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQW5CLEVBQUEsY0FBaUR5QixPQUFBLEtBUWpEbkIsRUFBQW9CLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURB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ZSxFQUFxQjVKLEtBQUsrTSxnQ0FBZ0NsRSxHQUNoRTdJLEtBQUtnTixzQ0FBc0NwRSxFQUFtQmdCLFlBSWxFdk0sRUFBT0QsUUFBVSxDQUFFd0MiLCJmaWxlIjoiLi9idWlsZC9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJAanM0Y3l0b3NjYXBlL2N5YW5ub3RhdGlvbkN4MmpzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkBqczRjeXRvc2NhcGUvY3lhbm5vdGF0aW9uQ3gyanNcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEN4VG9DeUNhbnZhcyA9IHJlcXVpcmUoJy4vY3hfdG9fY3lfY2FudmFzLmpzJykuQ3hUb0N5Q2FudmFzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtDeFRvQ3lDYW52YXN9O1xuIiwiY2xhc3MgQ3hUb0N5Q2FudmFzIHtcbiAgY29uc3RydWN0b3IoY3gyanMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmN4MmpzID0gY3gyanM7XG5cbiAgICB0aGlzLl9maW5kSW50ZXJzZWN0aW9uID0gZnVuY3Rpb24ocDEsIHAyLCBwMywgcDQpIHtcbiAgICAgIHZhciBkZW5vbWluYXRvciA9XG4gICAgICAgIChwNFtcInlcIl0gLSBwM1tcInlcIl0pICogKHAyW1wieFwiXSAtIHAxW1wieFwiXSkgLVxuICAgICAgICAocDRbXCJ4XCJdIC0gcDNbXCJ4XCJdKSAqIChwMltcInlcIl0gLSBwMVtcInlcIl0pO1xuXG4gICAgICB2YXIgdWEgPVxuICAgICAgICAoKHA0W1wieFwiXSAtIHAzW1wieFwiXSkgKiAocDFbXCJ5XCJdIC0gcDNbXCJ5XCJdKSAtXG4gICAgICAgICAgKHA0W1wieVwiXSAtIHAzW1wieVwiXSkgKiAocDFbXCJ4XCJdIC0gcDNbXCJ4XCJdKSkgL1xuICAgICAgICBkZW5vbWluYXRvcjtcblxuICAgICAgdmFyIHggPSB0aGlzLl9lcHNpbG9uKHAxW1wieFwiXSArIHVhICogKHAyW1wieFwiXSAtIHAxW1wieFwiXSkpO1xuICAgICAgdmFyIHkgPSB0aGlzLl9lcHNpbG9uKHAxW1wieVwiXSArIHVhICogKHAyW1wieVwiXSAtIHAxW1wieVwiXSkpO1xuICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgIH07XG5cbiAgICB0aGlzLl9lcHNpbG9uID0gZnVuY3Rpb24odikge1xuICAgICAgaWYgKE1hdGguYWJzKHYpIDwgMS4wZS0xMCkgcmV0dXJuIDAuMDtcbiAgICAgIHJldHVybiB2O1xuICAgIH07XG5cbiAgICB0aGlzLl9jaXJjbGVYID0gZnVuY3Rpb24oc2lkZXMsIGFuZ2xlLCByb3QpIHtcbiAgICAgIHZhciBjb2VmZiA9IGFuZ2xlIC8gc2lkZXM7XG4gICAgICBpZiAocm90ICYmIHNpZGVzICUgMiA9PSAwKSB7XG4gICAgICAgIGlmIChzaWRlcyA9PSA4KSB7XG4gICAgICAgICAgY29lZmYgKz0gMC41IC8gc2lkZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vwc2lsb24oTWF0aC5jb3MoMiAqIGNvZWZmICogTWF0aC5QSSkpO1xuICAgICAgfSBlbHNlIHJldHVybiB0aGlzLl9lcHNpbG9uKE1hdGguY29zKDIgKiBjb2VmZiAqIE1hdGguUEkgLSBNYXRoLlBJIC8gMikpO1xuICAgIH07XG5cbiAgICB0aGlzLl9jaXJjbGVZID0gZnVuY3Rpb24oc2lkZXMsIGFuZ2xlLCByb3QpIHtcbiAgICAgIHZhciBjb2VmZiA9IGFuZ2xlIC8gc2lkZXM7XG4gICAgICBpZiAocm90ICYmIHNpZGVzICUgMiA9PSAwKSB7XG4gICAgICAgIGlmIChzaWRlcyA9PSA4KSB7XG4gICAgICAgICAgY29lZmYgKz0gMC41IC8gc2lkZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vwc2lsb24oTWF0aC5zaW4oMiAqIGNvZWZmICogTWF0aC5QSSkpO1xuICAgICAgfSBlbHNlIHJldHVybiB0aGlzLl9lcHNpbG9uKE1hdGguc2luKDIgKiBjb2VmZiAqIE1hdGguUEkgLSBNYXRoLlBJIC8gMikpO1xuICAgIH07XG5cbiAgICB0aGlzLl9yZWd1bGFyUG9seWdvblNoYXBlRnVuY3Rpb24gPSBmdW5jdGlvbihzaGFwZU1hcCwgc2lkZXMsIGN0eCkge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdmFyIHdpZHRoID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcIndpZHRoXCJdKSAvIDI7XG4gICAgICB2YXIgaGVpZ2h0ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcImhlaWdodFwiXSkgLyAyO1xuXG4gICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ4XCJdKSArIHdpZHRoO1xuICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSkgKyBoZWlnaHQ7XG5cbiAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2lkZXM7IGkrKykge1xuICAgICAgICBsZXQgeDEgPSB0aGlzLl9jaXJjbGVYKHNpZGVzLCBpLCB0cnVlKSAqIHdpZHRoICsgeDtcbiAgICAgICAgbGV0IHkxID0gdGhpcy5fY2lyY2xlWShzaWRlcywgaSwgdHJ1ZSkgKiBoZWlnaHQgKyB5O1xuICAgICAgICBwb2ludHMucHVzaCh7IHg6IHgxLCB5OiB5MSB9KTtcbiAgICAgIH1cbiAgICAgIC8vIE5vdywgYWRkIHRoZSBwb2ludHNcbiAgICAgIGN0eC5tb3ZlVG8ocG9pbnRzWzBdW1wieFwiXSwgcG9pbnRzWzBdW1wieVwiXSk7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNpZGVzOyBpKyspIHtcbiAgICAgICAgY3R4LmxpbmVUbyhwb2ludHNbaV1bXCJ4XCJdLCBwb2ludHNbaV1bXCJ5XCJdKTtcbiAgICAgIH1cbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICBsZXQgZmlsbENvbG9yID0gc2VsZi5fY29sb3JGcm9tSW50KFxuICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbENvbG9yXCJdLFxuICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fc3RhclNoYXBlRnVuY3Rpb24gPSBmdW5jdGlvbihzaGFwZU1hcCwgc2lkZXMsIGN0eCkge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdmFyIHdpZHRoID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcIndpZHRoXCJdKSAvIDI7XG4gICAgICB2YXIgaGVpZ2h0ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcImhlaWdodFwiXSkgLyAyO1xuXG4gICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ4XCJdKSArIHdpZHRoO1xuICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSkgKyBoZWlnaHQ7XG5cbiAgICAgIGxldCBuUG9pbnRzID0gc2lkZXMgKiAyO1xuICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuUG9pbnRzOyBpKyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2goe30pO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaWRlczsgaSsrKSB7XG4gICAgICAgIGxldCB4MSA9IHRoaXMuX2NpcmNsZVgoc2lkZXMsIGksIGZhbHNlKSAqIHdpZHRoICsgeDtcbiAgICAgICAgbGV0IHkxID0gdGhpcy5fY2lyY2xlWShzaWRlcywgaSwgZmFsc2UpICogaGVpZ2h0ICsgeTtcbiAgICAgICAgbGV0IHgyID0gdGhpcy5fY2lyY2xlWChzaWRlcywgKGkgKyAyKSAlIHNpZGVzLCBmYWxzZSkgKiB3aWR0aCArIHg7XG4gICAgICAgIGxldCB5MiA9IHRoaXMuX2NpcmNsZVkoc2lkZXMsIChpICsgMikgJSBzaWRlcywgZmFsc2UpICogaGVpZ2h0ICsgeTtcbiAgICAgICAgcG9pbnRzW2kgKiAyXSA9IHsgeDogeDEsIHk6IHkxIH07XG4gICAgICAgIHBvaW50c1soaSAqIDIgKyA0KSAlIG5Qb2ludHNdID0geyB4OiB4MiwgeTogeTIgfTtcbiAgICAgIH1cblxuICAgICAgLy8gRmlsbCBpbiB0aGUgaW50ZXJzZWN0aW9uIHBvaW50c1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuUG9pbnRzOyBpID0gaSArIDIpIHtcbiAgICAgICAgbGV0IHAxID0gaTtcbiAgICAgICAgbGV0IHAyID0gKGkgKyA0KSAlIG5Qb2ludHM7XG4gICAgICAgIGxldCBwMyA9IChpICsgMikgJSBuUG9pbnRzO1xuICAgICAgICBsZXQgcDQgPSAocDMgKyBuUG9pbnRzIC0gNCkgJSBuUG9pbnRzO1xuXG4gICAgICAgIHBvaW50c1soaSArIDEpICUgblBvaW50c10gPSB0aGlzLl9maW5kSW50ZXJzZWN0aW9uKFxuICAgICAgICAgIHBvaW50c1twMV0sXG4gICAgICAgICAgcG9pbnRzW3AyXSxcbiAgICAgICAgICBwb2ludHNbcDNdLFxuICAgICAgICAgIHBvaW50c1twNF1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gTm93LCBhZGQgdGhlIHBvaW50c1xuICAgICAgY3R4Lm1vdmVUbyhwb2ludHNbMF1bXCJ4XCJdLCBwb2ludHNbMF1bXCJ5XCJdKTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgblBvaW50czsgaSsrKSB7XG4gICAgICAgIGN0eC5saW5lVG8ocG9pbnRzW2ldW1wieFwiXSwgcG9pbnRzW2ldW1wieVwiXSk7XG4gICAgICB9XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG5cbiAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICBsZXQgZmlsbENvbG9yID0gc2VsZi5fY29sb3JGcm9tSW50KFxuICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbENvbG9yXCJdLFxuICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fc2NhbGVDdXN0b21Qb2ludCA9IGZ1bmN0aW9uKHZhbHVlLCBtaW4sIG1heCwgc2NhbGUpIHtcbiAgICAgIHJldHVybiAoc2NhbGUgKiAobWluICsgdmFsdWUpKSAvIChtYXggLSBtaW4pO1xuICAgIH07XG5cbiAgICB0aGlzLl9xdWFkcmF0aWNDdXJ2ZUJvdW5kaW5nQm94ID0gZnVuY3Rpb24oeDEsIHkxLCB4MiwgeTIsIHgzLCB5Mykge1xuICAgICAgdmFyIGJyeCwgYngsIHgsIGJyeSwgYnksIHksIHB4LCBweTtcblxuICAgICAgLy8gc29sdmUgcXVhZHJhdGljIGZvciBib3VuZHMgYnkgQk02NyBub3JtYWxpemluZyBlcXVhdGlvblxuICAgICAgYnJ4ID0geDMgLSB4MTsgLy8gZ2V0IHggcmFuZ2VcbiAgICAgIGJ4ID0geDIgLSB4MTsgLy8gZ2V0IHggY29udHJvbCBwb2ludCBvZmZzZXRcbiAgICAgIHggPSBieCAvIGJyeDsgLy8gbm9ybWFsaXNlIGNvbnRyb2wgcG9pbnQgd2hpY2ggaXMgdXNlZCB0byBjaGVjayBpZiBtYXhpbWEgaXMgaW4gcmFuZ2VcblxuICAgICAgLy8gZG8gdGhlIHNhbWUgZm9yIHRoZSB5IHBvaW50c1xuICAgICAgYnJ5ID0geTMgLSB5MTtcbiAgICAgIGJ5ID0geTIgLSB5MTtcbiAgICAgIHkgPSBieSAvIGJyeTtcblxuICAgICAgcHggPSB4MTsgLy8gc2V0IGRlZmF1bHRzIGluIGNhc2UgbWF4aW1hcyBvdXRzaWRlIHJhbmdlXG4gICAgICBweSA9IHkxO1xuXG4gICAgICAvLyBmaW5kIHRvcC9sZWZ0LCB0b3AvcmlnaHQsIGJvdHRvbS9sZWZ0LCBvciBib3R0b20vcmlnaHRcbiAgICAgIGlmICh4IDwgMCB8fCB4ID4gMSkge1xuICAgICAgICAvLyBjaGVjayBpZiB4IG1heGltYSBpcyBvbiB0aGUgY3VydmVcbiAgICAgICAgcHggPSAoYnggKiBieCkgLyAoMiAqIGJ4IC0gYnJ4KSArIHgxOyAvLyBnZXQgdGhlIHggbWF4aW1hXG4gICAgICB9XG4gICAgICBpZiAoeSA8IDAgfHwgeSA+IDEpIHtcbiAgICAgICAgLy8gc2FtZSBhcyB4XG4gICAgICAgIHB5ID0gKGJ5ICogYnkpIC8gKDIgKiBieSAtIGJyeSkgKyB5MTtcbiAgICAgIH1cblxuICAgICAgbGV0IGV4dGVudCA9IHt9O1xuICAgICAgZXh0ZW50LmxlZnQgPSBNYXRoLm1pbih4MSwgeDMsIHB4KTtcbiAgICAgIGV4dGVudC50b3AgPSBNYXRoLm1pbih5MSwgeTMsIHB5KTtcbiAgICAgIGV4dGVudC5yaWdodCA9IE1hdGgubWF4KHgxLCB4MywgcHgpO1xuICAgICAgZXh0ZW50LmJvdHRvbSA9IE1hdGgubWF4KHkxLCB5MywgcHkpO1xuXG4gICAgICBleHRlbnQud2lkdGggPSBleHRlbnQucmlnaHQgLSBleHRlbnQubGVmdDtcbiAgICAgIGV4dGVudC5oZWlnaHQgPSBleHRlbnQuYm90dG9tIC0gZXh0ZW50LnRvcDtcblxuICAgICAgcmV0dXJuIGV4dGVudDtcbiAgICB9O1xuXG4gICAgdGhpcy5fZXZhbEJleiA9IGZ1bmN0aW9uKHAwLCBwMSwgcDIsIHAzLCB0KSB7XG4gICAgICB2YXIgcCA9XG4gICAgICAgIHAwICogKDEgLSB0KSAqICgxIC0gdCkgKiAoMSAtIHQpICtcbiAgICAgICAgMyAqIHAxICogdCAqICgxIC0gdCkgKiAoMSAtIHQpICtcbiAgICAgICAgMyAqIHAyICogdCAqIHQgKiAoMSAtIHQpICtcbiAgICAgICAgcDMgKiB0ICogdCAqIHQ7XG4gICAgICByZXR1cm4gcDtcbiAgICB9O1xuXG4gICAgdGhpcy5fYmV6aWVyQ3VydmVCb3VuZGluZ0JveCA9IGZ1bmN0aW9uKFxuICAgICAgcHgwLFxuICAgICAgcHkwLFxuICAgICAgcHgxLFxuICAgICAgcHkxLFxuICAgICAgcHgyLFxuICAgICAgcHkyLFxuICAgICAgcHgzLFxuICAgICAgcHkzXG4gICAgKSB7XG4gICAgICB2YXIgYSA9IDMgKiBweDMgLSA5ICogcHgyICsgOSAqIHB4MSAtIDMgKiBweDA7XG4gICAgICB2YXIgYiA9IDYgKiBweDAgLSAxMiAqIHB4MSArIDYgKiBweDI7XG4gICAgICB2YXIgYyA9IDMgKiBweDEgLSAzICogcHgwO1xuICAgICAgLy9hbGVydChcImEgXCIrYStcIiBcIitiK1wiIFwiK2MpO1xuICAgICAgdmFyIGRpc2MgPSBiICogYiAtIDQgKiBhICogYztcbiAgICAgIHZhciB4bCA9IHB4MDtcbiAgICAgIHZhciB4aCA9IHB4MDtcbiAgICAgIGlmIChweDMgPCB4bCkgeGwgPSBweDM7XG4gICAgICBpZiAocHgzID4geGgpIHhoID0gcHgzO1xuICAgICAgaWYgKGRpc2MgPj0gMCkge1xuICAgICAgICBsZXQgdDEgPSAoLWIgKyBNYXRoLnNxcnQoZGlzYykpIC8gKDIgKiBhKTtcbiAgICAgICAgLy9hbGVydChcInQxIFwiICsgdDEpO1xuICAgICAgICBpZiAodDEgPiAwICYmIHQxIDwgMSkge1xuICAgICAgICAgIHZhciB4MSA9IHNlbGYuX2V2YWxCZXoocHgwLCBweDEsIHB4MiwgcHgzLCB0MSk7XG4gICAgICAgICAgaWYgKHgxIDwgeGwpIHhsID0geDE7XG4gICAgICAgICAgaWYgKHgxID4geGgpIHhoID0geDE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdDIgPSAoLWIgLSBNYXRoLnNxcnQoZGlzYykpIC8gKDIgKiBhKTtcbiAgICAgICAgLy9hbGVydChcInQyIFwiICsgdDIpO1xuICAgICAgICBpZiAodDIgPiAwICYmIHQyIDwgMSkge1xuICAgICAgICAgIHZhciB4MiA9IHNlbGYuX2V2YWxCZXoocHgwLCBweDEsIHB4MiwgcHgzLCB0Mik7XG4gICAgICAgICAgaWYgKHgyIDwgeGwpIHhsID0geDI7XG4gICAgICAgICAgaWYgKHgyID4geGgpIHhoID0geDI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYSA9IDMgKiBweTMgLSA5ICogcHkyICsgOSAqIHB5MSAtIDMgKiBweTA7XG4gICAgICBiID0gNiAqIHB5MCAtIDEyICogcHkxICsgNiAqIHB5MjtcbiAgICAgIGMgPSAzICogcHkxIC0gMyAqIHB5MDtcbiAgICAgIGRpc2MgPSBiICogYiAtIDQgKiBhICogYztcbiAgICAgIHZhciB5bCA9IHB5MDtcbiAgICAgIHZhciB5aCA9IHB5MDtcbiAgICAgIGlmIChweTMgPCB5bCkgeWwgPSBweTM7XG4gICAgICBpZiAocHkzID4geWgpIHloID0gcHkzO1xuICAgICAgaWYgKGRpc2MgPj0gMCkge1xuICAgICAgICBsZXQgdDEgPSAoLWIgKyBNYXRoLnNxcnQoZGlzYykpIC8gKDIgKiBhKTtcbiAgICAgICAgLy9hbGVydChcInQzIFwiICsgdDEpO1xuXG4gICAgICAgIGlmICh0MSA+IDAgJiYgdDEgPCAxKSB7XG4gICAgICAgICAgdmFyIHkxID0gc2VsZi5fZXZhbEJleihweTAsIHB5MSwgcHkyLCBweTMsIHQxKTtcbiAgICAgICAgICBpZiAoeTEgPCB5bCkgeWwgPSB5MTtcbiAgICAgICAgICBpZiAoeTEgPiB5aCkgeWggPSB5MTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0MiA9ICgtYiAtIE1hdGguc3FydChkaXNjKSkgLyAoMiAqIGEpO1xuICAgICAgICAvL2FsZXJ0KFwidDQgXCIgKyB0Mik7XG5cbiAgICAgICAgaWYgKHQyID4gMCAmJiB0MiA8IDEpIHtcbiAgICAgICAgICB2YXIgeTIgPSBzZWxmLl9ldmFsQmV6KHB5MCwgcHkxLCBweTIsIHB5MywgdDIpO1xuICAgICAgICAgIGlmICh5MiA8IHlsKSB5bCA9IHkyO1xuICAgICAgICAgIGlmICh5MiA+IHloKSB5aCA9IHkyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBleHRlbnQgPSB7fTtcbiAgICAgIGV4dGVudC5sZWZ0ID0geGw7XG4gICAgICBleHRlbnQudG9wID0geWw7XG4gICAgICBleHRlbnQucmlnaHQgPSB4aDtcbiAgICAgIGV4dGVudC5ib3R0b20gPSB5aDtcblxuICAgICAgZXh0ZW50LndpZHRoID0gZXh0ZW50LnJpZ2h0IC0gZXh0ZW50LmxlZnQ7XG4gICAgICBleHRlbnQuaGVpZ2h0ID0gZXh0ZW50LmJvdHRvbSAtIGV4dGVudC50b3A7XG5cbiAgICAgIHJldHVybiBleHRlbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuX3NoYXBlRnVuY3Rpb25zID0ge1xuICAgICAgUkVDVEFOR0xFOiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnJlY3QoXG4gICAgICAgICAgc2hhcGVNYXBbXCJ4XCJdLFxuICAgICAgICAgIHNoYXBlTWFwW1wieVwiXSxcbiAgICAgICAgICBzaGFwZU1hcFtcIndpZHRoXCJdLFxuICAgICAgICAgIHNoYXBlTWFwW1wiaGVpZ2h0XCJdXG4gICAgICAgICk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgaWYgKHNoYXBlTWFwW1wiZmlsbENvbG9yXCJdKSB7XG4gICAgICAgICAgbGV0IGZpbGxDb2xvciA9IHNlbGYuX2NvbG9yRnJvbUludChcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbENvbG9yXCJdLFxuICAgICAgICAgICAgc2hhcGVNYXBbXCJmaWxsT3BhY2l0eVwiXVxuICAgICAgICAgICk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIH0sXG4gICAgICBST1VOREVEUkVDVEFOR0xFOiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ3aWR0aFwiXSk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wiaGVpZ2h0XCJdKTtcbiAgICAgICAgdmFyIHRlbnRoV2lkdGggPSB3aWR0aCAqIDAuMTtcbiAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieFwiXSk7XG4gICAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInlcIl0pO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdGVudGhXaWR0aCwgeSk7XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHdpZHRoIC0gdGVudGhXaWR0aCwgeSk7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgdGVudGhXaWR0aCk7XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gdGVudGhXaWR0aCk7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKFxuICAgICAgICAgIHggKyB3aWR0aCxcbiAgICAgICAgICB5ICsgaGVpZ2h0LFxuICAgICAgICAgIHggKyB3aWR0aCAtIHRlbnRoV2lkdGgsXG4gICAgICAgICAgeSArIGhlaWdodFxuICAgICAgICApO1xuICAgICAgICBjdHgubGluZVRvKHggKyB0ZW50aFdpZHRoLCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHRlbnRoV2lkdGgpO1xuICAgICAgICBjdHgubGluZVRvKHgsIHkgKyB0ZW50aFdpZHRoKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSwgeCArIHRlbnRoV2lkdGgsIHkpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9LFxuICAgICAgRUxMSVBTRTogZnVuY3Rpb24oc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICB2YXIgaGFsZldpZHRoID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcIndpZHRoXCJdKSAvIDI7XG4gICAgICAgIHZhciBoYWxmSGVpZ2h0ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcImhlaWdodFwiXSkgLyAyO1xuICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ4XCJdKSArIGhhbGZXaWR0aDtcbiAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSkgKyBoYWxmSGVpZ2h0O1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5lbGxpcHNlKHgsIHksIGhhbGZXaWR0aCwgaGFsZkhlaWdodCwgMCwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9LFxuICAgICAgU1RBUjU6IGZ1bmN0aW9uKHNoYXBlTWFwLCBjdHgpIHtcbiAgICAgICAgc2VsZi5fc3RhclNoYXBlRnVuY3Rpb24oc2hhcGVNYXAsIDUsIGN0eCk7XG4gICAgICB9LFxuICAgICAgU1RBUjY6IGZ1bmN0aW9uKHNoYXBlTWFwLCBjdHgpIHtcbiAgICAgICAgc2VsZi5fc3RhclNoYXBlRnVuY3Rpb24oc2hhcGVNYXAsIDYsIGN0eCk7XG4gICAgICB9LFxuICAgICAgVFJJQU5HTEU6IGZ1bmN0aW9uKHNoYXBlTWFwLCBjdHgpIHtcbiAgICAgICAgc2VsZi5fcmVndWxhclBvbHlnb25TaGFwZUZ1bmN0aW9uKHNoYXBlTWFwLCAzLCBjdHgpO1xuICAgICAgfSxcbiAgICAgIFBFTlRBR09OOiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHNlbGYuX3JlZ3VsYXJQb2x5Z29uU2hhcGVGdW5jdGlvbihzaGFwZU1hcCwgNSwgY3R4KTtcbiAgICAgIH0sXG4gICAgICBIRVhBR09OOiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHNlbGYuX3JlZ3VsYXJQb2x5Z29uU2hhcGVGdW5jdGlvbihzaGFwZU1hcCwgNiwgY3R4KTtcbiAgICAgIH0sXG4gICAgICBPQ1RBR09OOiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHNlbGYuX3JlZ3VsYXJQb2x5Z29uU2hhcGVGdW5jdGlvbihzaGFwZU1hcCwgOCwgY3R4KTtcbiAgICAgIH0sXG4gICAgICBQQVJBTExFTE9HUkFNOiBmdW5jdGlvbihzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHZhciB4ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInhcIl0pO1xuICAgICAgICB2YXIgeSA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ5XCJdKTtcblxuICAgICAgICB2YXIgeE1heCA9IHggKyBwYXJzZUZsb2F0KHNoYXBlTWFwW1wid2lkdGhcIl0pO1xuICAgICAgICB2YXIgeU1heCA9IHkgKyBwYXJzZUZsb2F0KHNoYXBlTWFwW1wiaGVpZ2h0XCJdKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgICAgICBjdHgubGluZVRvKCgyLjAgKiB4TWF4ICsgeCkgLyAzLjAsIHkpO1xuICAgICAgICBjdHgubGluZVRvKHhNYXgsIHlNYXgpO1xuICAgICAgICBjdHgubGluZVRvKCgyLjAgKiB4ICsgeE1heCkgLyAzLjAsIHlNYXgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIENVU1RPTTogZnVuY3Rpb24oc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ4XCJdKTtcbiAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcIndpZHRoXCJdKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJoZWlnaHRcIl0pO1xuXG4gICAgICAgIHZhciBjdXN0b21TaGFwZSA9IHNoYXBlTWFwW1wiY3VzdG9tU2hhcGVcIl07XG4gICAgICAgIHZhciBzaGFwZUFyZ3MgPSBjdXN0b21TaGFwZS5zcGxpdChcIiBcIik7XG5cbiAgICAgICAgbGV0IG1pblggPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICBsZXQgbWluWSA9IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICAgICAgbGV0IG1heFggPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgICAgICBsZXQgbWF4WSA9IE51bWJlci5NSU5fVkFMVUU7XG5cbiAgICAgICAgbGV0IGxhc3RYO1xuICAgICAgICBsZXQgbGFzdFk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZUFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoc2hhcGVBcmdzW2ldID09IFwiTVwiKSB7XG4gICAgICAgICAgICBsZXQgbXggPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMV0pO1xuICAgICAgICAgICAgbGV0IG15ID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDJdKTtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBteCk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgbXkpO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIG14KTtcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBteSk7XG4gICAgICAgICAgICBsYXN0WCA9IG14O1xuICAgICAgICAgICAgbGFzdFkgPSBteTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNoYXBlQXJnc1tpXSA9PSBcIkxcIikge1xuICAgICAgICAgICAgbGV0IGx4ID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDFdKTtcbiAgICAgICAgICAgIGxldCBseSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAyXSk7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgbHgpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIGx5KTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBseCk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgbHkpO1xuICAgICAgICAgICAgbGFzdFggPSBseDtcbiAgICAgICAgICAgIGxhc3RZID0gbHk7XG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJRXCIpIHtcbiAgICAgICAgICAgIGxldCBxMSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICBsZXQgcTIgPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgbGV0IHEzID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDNdKTtcbiAgICAgICAgICAgIGxldCBxNCA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA0XSk7XG5cbiAgICAgICAgICAgIGxldCBleHRlbnQgPSBzZWxmLl9xdWFkcmF0aWNDdXJ2ZUJvdW5kaW5nQm94KFxuICAgICAgICAgICAgICBsYXN0WCxcbiAgICAgICAgICAgICAgbGFzdFksXG4gICAgICAgICAgICAgIHExLFxuICAgICAgICAgICAgICBxMixcbiAgICAgICAgICAgICAgcTMsXG4gICAgICAgICAgICAgIHE0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZXh0ZW50LmxlZnQpO1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIGV4dGVudC5yaWdodCk7XG5cbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBleHRlbnQuYm90dG9tKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBleHRlbnQudG9wKTtcblxuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIGV4dGVudC5sZWZ0KTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBleHRlbnQucmlnaHQpO1xuXG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgZXh0ZW50LmJvdHRvbSk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgZXh0ZW50LnRvcCk7XG5cbiAgICAgICAgICAgIGxhc3RYID0gcTM7XG4gICAgICAgICAgICBsYXN0WSA9IHE0O1xuXG4gICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJDXCIpIHtcbiAgICAgICAgICAgIGxldCBjMSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICBsZXQgYzIgPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgbGV0IGMzID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDNdKTtcbiAgICAgICAgICAgIGxldCBjNCA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA0XSk7XG4gICAgICAgICAgICBsZXQgYzUgPSBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgNV0pO1xuICAgICAgICAgICAgbGV0IGM2ID0gcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDZdKTtcblxuICAgICAgICAgICAgbGV0IGV4dGVudCA9IHNlbGYuX2JlemllckN1cnZlQm91bmRpbmdCb3goXG4gICAgICAgICAgICAgIGxhc3RYLFxuICAgICAgICAgICAgICBsYXN0WSxcbiAgICAgICAgICAgICAgYzEsXG4gICAgICAgICAgICAgIGMyLFxuICAgICAgICAgICAgICBjMyxcbiAgICAgICAgICAgICAgYzQsXG4gICAgICAgICAgICAgIGM1LFxuICAgICAgICAgICAgICBjNlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIGV4dGVudC5sZWZ0KTtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBleHRlbnQucmlnaHQpO1xuXG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgZXh0ZW50LmJvdHRvbSk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgZXh0ZW50LnRvcCk7XG5cbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBleHRlbnQubGVmdCk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgZXh0ZW50LnJpZ2h0KTtcblxuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGV4dGVudC5ib3R0b20pO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGV4dGVudC50b3ApO1xuXG4gICAgICAgICAgICBsYXN0WCA9IGM1O1xuICAgICAgICAgICAgbGFzdFkgPSBjNjtcblxuICAgICAgICAgICAgaSArPSA2O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzY2FsZVggPSB3aWR0aCAvIChtYXhYIC0gbWluWCk7XG4gICAgICAgIGxldCBzY2FsZVkgPSBoZWlnaHQgLyAobWF4WSAtIG1pblkpO1xuXG4gICAgICAgIGxldCBiYXNlWCA9IHggLSBzY2FsZVggKiBtaW5YO1xuICAgICAgICBsZXQgYmFzZVkgPSB5IC0gc2NhbGVZICogbWluWTtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZUFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoc2hhcGVBcmdzW2ldID09IFwiTlpcIikge1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vekZpbGxSdWxlID0gXCJub256ZXJvXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJFT1wiKSB7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW96RmlsbFJ1bGUgPSBcImV2ZW5vZGRcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNoYXBlQXJnc1tpXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgbGV0IG14ID0gYmFzZVggKyBzY2FsZVggKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMV0pO1xuICAgICAgICAgICAgbGV0IG15ID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyhteCwgbXkpO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiTFwiKSB7XG4gICAgICAgICAgICBsZXQgbHggPSBiYXNlWCArIHNjYWxlWCAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICBsZXQgbHkgPSBiYXNlWSArIHNjYWxlWSAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAyXSk7XG4gICAgICAgICAgICBjdHgubGluZVRvKGx4LCBseSk7XG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJRXCIpIHtcbiAgICAgICAgICAgIGxldCBxMSA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDFdKTtcbiAgICAgICAgICAgIGxldCBxMiA9IGJhc2VZICsgc2NhbGVZICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDJdKTtcbiAgICAgICAgICAgIGxldCBxMyA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDNdKTtcbiAgICAgICAgICAgIGxldCBxNCA9IGJhc2VZICsgc2NhbGVZICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDRdKTtcbiAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHExLCBxMiwgcTMsIHE0KTtcbiAgICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNoYXBlQXJnc1tpXSA9PSBcIkNcIikge1xuICAgICAgICAgICAgbGV0IGMxID0gYmFzZVggKyBzY2FsZVggKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMV0pO1xuICAgICAgICAgICAgbGV0IGMyID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgbGV0IGMzID0gYmFzZVggKyBzY2FsZVggKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgM10pO1xuICAgICAgICAgICAgbGV0IGM0ID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgNF0pO1xuICAgICAgICAgICAgbGV0IGM1ID0gYmFzZVggKyBzY2FsZVggKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgNV0pO1xuICAgICAgICAgICAgbGV0IGM2ID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgNl0pO1xuICAgICAgICAgICAgY3R4LmJlemllckN1cnZlVG8oYzEsIGMyLCBjMywgYzQsIGM1LCBjNik7XG4gICAgICAgICAgICBpICs9IDY7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJaXCIpIHtcbiAgICAgICAgICAgIC8vY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX2NvbG9yRnJvbUludCA9IGZ1bmN0aW9uKG51bSwgYWxwaGEpIHtcbiAgICAgIG51bSA+Pj49IDA7XG4gICAgICB2YXIgYiA9IG51bSAmIDB4ZmYsXG4gICAgICAgIGcgPSAobnVtICYgMHhmZjAwKSA+Pj4gOCxcbiAgICAgICAgciA9IChudW0gJiAweGZmMDAwMCkgPj4+IDE2LFxuICAgICAgICBhID0gcGFyc2VGbG9hdChhbHBoYSkgLyAxMDA7XG5cbiAgICAgIHJldHVybiBcInJnYihcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIixcIiArIGEgKyBcIilcIjtcbiAgICB9O1xuICB9XG5cbiAgZHJhd0JhY2tncm91bmRGcm9tTmljZUNYKGN5dG9zY2FwZUluc3RhbmNlLCBuaWNlQ1gpIHtcbiAgICBjb25zdCBjeDJqcyA9IHRoaXMuY3gyanM7XG4gICAgY29uc3QgY3hCR0NvbG9yID0gY3gyanMuY3lCYWNrZ3JvdW5kQ29sb3JGcm9tTmljZUNYKG5pY2VDWCk7XG4gICAgdGhpcy5kcmF3QmFja2dyb3VuZChjeXRvc2NhcGVJbnN0YW5jZSwgY3hCR0NvbG9yKTtcbiAgfVxuXG4gIGRyYXdCYWNrZ3JvdW5kKGN5dG9zY2FwZUluc3RhbmNlLCBjeEJHQ29sb3IpIHtcbiAgICBjb25zdCBiYWNrZ3JvdW5kTGF5ZXIgPSBjeXRvc2NhcGVJbnN0YW5jZS5jeUNhbnZhcyh7XG4gICAgICB6SW5kZXg6IC0yXG4gICAgfSk7XG5cbiAgICBjb25zdCBiYWNrZ3JvdW5kQ2FudmFzID0gYmFja2dyb3VuZExheWVyLmdldENhbnZhcygpO1xuICAgIGNvbnN0IGJhY2tncm91bmRDdHggPSBiYWNrZ3JvdW5kQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGN5dG9zY2FwZUluc3RhbmNlLm9uKFwicmVuZGVyIGN5Q2FudmFzLnJlc2l6ZVwiLCBldnQgPT4ge1xuICAgICAgYmFja2dyb3VuZEN0eC5maWxsU3R5bGUgPSBjeEJHQ29sb3I7XG4gICAgICBiYWNrZ3JvdW5kQ3R4LmZpbGxSZWN0KFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoLFxuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEFubm90YXRpb25FbGVtZW50c0Zyb21OaWNlQ1gobmljZUNYKSB7XG4gICAgaWYgKG5pY2VDWFtcIm5ldHdvcmtBdHRyaWJ1dGVzXCJdKSB7XG4gICAgICAgIHJldHVybiBuaWNlQ1hbXCJuZXR3b3JrQXR0cmlidXRlc1wiXVtcImVsZW1lbnRzXCJdLmZpbHRlcihmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnRbXCJuXCJdID09IFwiX19Bbm5vdGF0aW9uc1wiO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICB9XG5cbiAgZHJhd0Fubm90YXRpb25zRnJvbUFubm90YXRpb25FbGVtZW50cyhjeXRvc2NhcGVJbnN0YW5jZSwgYW5ub3RhdGlvbkVsZW1lbnRzKSB7XG4gICAgY29uc3QgY3gyanMgPSB0aGlzLmN4MmpzO1xuICAgIC8vY29uc29sZS5sb2coXCJzZXR0aW5nIHVwIGFubm90YXRpb25zXCIpO1xuICAgIGNvbnN0IGJvdHRvbUxheWVyID0gY3l0b3NjYXBlSW5zdGFuY2UuY3lDYW52YXMoe1xuICAgICAgekluZGV4OiAtMVxuICAgIH0pO1xuXG4gICAgY29uc3QgdG9wTGF5ZXIgPSBjeXRvc2NhcGVJbnN0YW5jZS5jeUNhbnZhcyh7XG4gICAgICB6SW5kZXg6IDFcbiAgICB9KTtcblxuICAgIGNvbnN0IGJvdHRvbUNhbnZhcyA9IGJvdHRvbUxheWVyLmdldENhbnZhcygpO1xuICAgIGNvbnN0IGJvdHRvbUN0eCA9IGJvdHRvbUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBjb25zdCB0b3BDYW52YXMgPSB0b3BMYXllci5nZXRDYW52YXMoKTtcbiAgICBjb25zdCB0b3BDdHggPSB0b3BDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgY3l0b3NjYXBlSW5zdGFuY2Uub24oXCJyZW5kZXIgY3lDYW52YXMucmVzaXplXCIsIGV2dCA9PiB7XG4gICAgICB2YXIgY29sb3JGcm9tSW50ID0gdGhpcy5fY29sb3JGcm9tSW50O1xuICAgICAgdmFyIHNoYXBlRnVuY3Rpb25zID0gdGhpcy5fc2hhcGVGdW5jdGlvbnM7XG4gICAgICAvL2NvbnNvbGUubG9nKFwicmVuZGVyIGN5Q2FudmFzLnJlc2l6ZSBldmVudFwiKTtcbiAgICAgIGJvdHRvbUxheWVyLnJlc2V0VHJhbnNmb3JtKGJvdHRvbUN0eCk7XG4gICAgICBib3R0b21MYXllci5jbGVhcihib3R0b21DdHgpO1xuICAgICAgYm90dG9tTGF5ZXIuc2V0VHJhbnNmb3JtKGJvdHRvbUN0eCk7XG5cbiAgICAgIGJvdHRvbUN0eC5zYXZlKCk7XG5cbiAgICAgIHRvcExheWVyLnJlc2V0VHJhbnNmb3JtKHRvcEN0eCk7XG4gICAgICB0b3BMYXllci5jbGVhcih0b3BDdHgpO1xuICAgICAgdG9wTGF5ZXIuc2V0VHJhbnNmb3JtKHRvcEN0eCk7XG5cbiAgICAgIHRvcEN0eC5zYXZlKCk7XG5cbiAgICAgIHZhciBpbmRleGVkQW5ub3RhdGlvbnMgPSB7fTtcbiAgICAgIHZhciB0b3BBbm5vdGF0aW9ucyA9IFtdO1xuICAgICAgdmFyIGJvdHRvbUFubm90YXRpb25zID0gW107XG5cbiAgICAgIGFubm90YXRpb25FbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudFtcInZcIl0uZm9yRWFjaChmdW5jdGlvbihhbm5vdGF0aW9uKSB7XG4gICAgICAgICAgdmFyIGFubm90YXRpb25LVkxpc3QgPSBhbm5vdGF0aW9uLnNwbGl0KFwifFwiKTtcbiAgICAgICAgICB2YXIgYW5ub3RhdGlvbk1hcCA9IHt9O1xuICAgICAgICAgIGFubm90YXRpb25LVkxpc3QuZm9yRWFjaChmdW5jdGlvbihhbm5vdGF0aW9uS1YpIHtcbiAgICAgICAgICAgIHZhciBrdlBhaXIgPSBhbm5vdGF0aW9uS1Yuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtrdlBhaXJbMF1dID0ga3ZQYWlyWzFdO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaW5kZXhlZEFubm90YXRpb25zW2Fubm90YXRpb25NYXBbXCJ1dWlkXCJdXSA9IGFubm90YXRpb25NYXA7XG5cbiAgICAgICAgICBpZiAoYW5ub3RhdGlvbk1hcFtcImNhbnZhc1wiXSA9PSBcImZvcmVncm91bmRcIikge1xuICAgICAgICAgICAgdG9wQW5ub3RhdGlvbnMucHVzaChhbm5vdGF0aW9uTWFwW1widXVpZFwiXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvdHRvbUFubm90YXRpb25zLnB1c2goYW5ub3RhdGlvbk1hcFtcInV1aWRcIl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHZhciB6T3JkZXJDb21wYXJlID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBsZXQgYW5ub3RhdGlvbkEgPSBpbmRleGVkQW5ub3RhdGlvbnNbYV07XG4gICAgICAgIGxldCBhbm5vdGF0aW9uQiA9IGluZGV4ZWRBbm5vdGF0aW9uc1tiXTtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGFubm90YXRpb25CW1wielwiXSkgLSBwYXJzZUludChhbm5vdGF0aW9uQVtcInpcIl0pO1xuICAgICAgfTtcblxuICAgICAgdG9wQW5ub3RhdGlvbnMuc29ydCh6T3JkZXJDb21wYXJlKTtcbiAgICAgIGJvdHRvbUFubm90YXRpb25zLnNvcnQoek9yZGVyQ29tcGFyZSk7XG5cbiAgICAgIHZhciBjb250ZXh0QW5ub3RhdGlvbk1hcCA9IFtcbiAgICAgICAgeyBjb250ZXh0OiB0b3BDdHgsIGFubm90YXRpb25zOiB0b3BBbm5vdGF0aW9ucyB9LFxuICAgICAgICB7IGNvbnRleHQ6IGJvdHRvbUN0eCwgYW5ub3RhdGlvbnM6IGJvdHRvbUFubm90YXRpb25zIH1cbiAgICAgIF07XG4gICAgICBjb250ZXh0QW5ub3RhdGlvbk1hcC5mb3JFYWNoKGZ1bmN0aW9uKGNvbnRleHRBbm5vdGF0aW9uUGFpcikge1xuICAgICAgICBsZXQgY3R4ID0gY29udGV4dEFubm90YXRpb25QYWlyLmNvbnRleHQ7XG4gICAgICAgIGNvbnRleHRBbm5vdGF0aW9uUGFpci5hbm5vdGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGFubm90YXRpb25VVUlEKSB7XG4gICAgICAgICAgbGV0IGFubm90YXRpb25NYXAgPSBpbmRleGVkQW5ub3RhdGlvbnNbYW5ub3RhdGlvblVVSURdO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJ0eXBlXCJdID09XG4gICAgICAgICAgICAgIFwib3JnLmN5dG9zY2FwZS52aWV3LnByZXNlbnRhdGlvbi5hbm5vdGF0aW9ucy5TaGFwZUFubm90YXRpb25cIiB8fFxuICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcInR5cGVcIl0gPT1cbiAgICAgICAgICAgICAgXCJvcmcuY3l0b3NjYXBlLnZpZXcucHJlc2VudGF0aW9uLmFubm90YXRpb25zLkJvdW5kZWRUZXh0QW5ub3RhdGlvblwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvL2N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBhbm5vdGF0aW9uTWFwW1wiZWRnZVRoaWNrbmVzc1wiXTtcblxuICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcIndpZHRoXCJdID1cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wid2lkdGhcIl0pIC9cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wiem9vbVwiXSk7XG4gICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiaGVpZ2h0XCJdID1cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wiaGVpZ2h0XCJdKSAvXG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcInpvb21cIl0pO1xuICAgICAgICAgICAgaWYgKHNoYXBlRnVuY3Rpb25zW2Fubm90YXRpb25NYXBbXCJzaGFwZVR5cGVcIl1dKSB7XG4gICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yRnJvbUludChcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZWRnZUNvbG9yXCJdLFxuICAgICAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJlZGdlT3BhY2l0eVwiXVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBzaGFwZUZ1bmN0aW9uc1thbm5vdGF0aW9uTWFwW1wic2hhcGVUeXBlXCJdXShhbm5vdGF0aW9uTWFwLCBjdHgpO1xuXG4gICAgICAgICAgICAgIC8vY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBzaGFwZSB0eXBlOiBcIiArIGFubm90YXRpb25NYXBbXCJzaGFwZVR5cGVcIl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1widHlwZVwiXSA9PVxuICAgICAgICAgICAgXCJvcmcuY3l0b3NjYXBlLnZpZXcucHJlc2VudGF0aW9uLmFubm90YXRpb25zLkFycm93QW5ub3RhdGlvblwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJ0YXJnZXRBbm5vdGF0aW9uXCJdICYmXG4gICAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJzb3VyY2VBbm5vdGF0aW9uXCJdXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgbGV0IHNvdXJjZUFubm90YXRpb24gPVxuICAgICAgICAgICAgICAgIGluZGV4ZWRBbm5vdGF0aW9uc1thbm5vdGF0aW9uTWFwW1wic291cmNlQW5ub3RhdGlvblwiXV07XG4gICAgICAgICAgICAgIGxldCB0YXJnZXRBbm5vdGF0aW9uID1cbiAgICAgICAgICAgICAgICBpbmRleGVkQW5ub3RhdGlvbnNbYW5ub3RhdGlvbk1hcFtcInRhcmdldEFubm90YXRpb25cIl1dO1xuXG4gICAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgaXMgYSBzdGFydCB0byBpbXBsZW1lbnRpbmcgYXJyb3cgYW5ub3RhdGlvbnMuIFRvIGZvbGxvdyBDeXRvc2NhcGUnc1xuICAgICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbiwgaXQgd291bGQgdGFrZSBhIGdyZWF0IGRlYWwgb2YgbWF0aCBhbmQgc3BlY2lhbCBjYXNlcywgc28gaGFzIGJlZW5cbiAgICAgICAgICAgICAgLy8gbGVmdCBmb3IgbGF0ZXIgd29yay5cbiAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNvdXJjZVggPSBzb3VyY2VBbm5vdGF0aW9uWyd4J107XG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3VyY2VZID0gc291cmNlQW5ub3RhdGlvblsneSddO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRYID0gdGFyZ2V0QW5ub3RhdGlvblsneCddO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0WSA9IHRhcmdldEFubm90YXRpb25bJ3knXTtcblxuICAgICAgICAgICAgICAgICAgICBjdHgubW92ZVRvKHNvdXJjZVgsIHNvdXJjZVkpO1xuICAgICAgICAgICAgICAgICAgICBjdHgubGluZVRvKHRhcmdldFgsIHRhcmdldFkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHRleHQ7XG4gICAgICAgICAgdmFyIHRleHRYO1xuICAgICAgICAgIHZhciB0ZXh0WTtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJ0eXBlXCJdID09XG4gICAgICAgICAgICBcIm9yZy5jeXRvc2NhcGUudmlldy5wcmVzZW50YXRpb24uYW5ub3RhdGlvbnMuVGV4dEFubm90YXRpb25cIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGV4dCA9IGFubm90YXRpb25NYXBbXCJ0ZXh0XCJdO1xuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICB0ZXh0WCA9IGFubm90YXRpb25NYXBbXCJ4XCJdO1xuICAgICAgICAgICAgdGV4dFkgPSBhbm5vdGF0aW9uTWFwW1wieVwiXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcInR5cGVcIl0gPT1cbiAgICAgICAgICAgIFwib3JnLmN5dG9zY2FwZS52aWV3LnByZXNlbnRhdGlvbi5hbm5vdGF0aW9ucy5Cb3VuZGVkVGV4dEFubm90YXRpb25cIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGV4dCA9IGFubm90YXRpb25NYXBbXCJ0ZXh0XCJdO1xuXG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXG4gICAgICAgICAgICB0ZXh0WCA9IHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcInhcIl0pICsgYW5ub3RhdGlvbk1hcFtcIndpZHRoXCJdIC8gMjtcbiAgICAgICAgICAgIHRleHRZID1cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wieVwiXSkgKyBhbm5vdGF0aW9uTWFwW1wiaGVpZ2h0XCJdIC8gMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRleHQgJiYgdGV4dFggJiYgdGV4dFkpIHtcbiAgICAgICAgICAgIGNvbnN0IHpvb20gPSBhbm5vdGF0aW9uTWFwW1wiem9vbVwiXSA/IHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcInpvb21cIl0pIDogMTtcbiAgICAgICAgICAgIGNvbnN0IGZvbnRTaXplID1cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wiZm9udFNpemVcIl0pIC8gem9vbTtcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5O1xuXG4gICAgICAgICAgICBpZiAoYW5ub3RhdGlvbk1hcFtcImZvbnRGYW1pbHlcIl0pIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGN4MmpzLkphdmFMb2dpY2FsRm9udENvbnN0YW50cy5GT05UX0ZBTUlMWV9MSVNULmluY2x1ZGVzKFxuICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcImZvbnRGYW1pbHlcIl1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPVxuICAgICAgICAgICAgICAgICAgY3gyanMuSmF2YUxvZ2ljYWxGb250Q29uc3RhbnRzLkZPTlRfU1RBQ0tfTUFQW1xuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZm9udEZhbWlseVwiXVxuICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBjeDJqcy5Db21tb25PU0ZvbnRDb25zdGFudHMuRk9OVF9TVEFDS19NQVBbXG4gICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZm9udEZhbWlseVwiXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9XG4gICAgICAgICAgICAgICAgICBjeDJqcy5Db21tb25PU0ZvbnRDb25zdGFudHMuRk9OVF9TVEFDS19NQVBbXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJmb250RmFtaWx5XCJdXG4gICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcInNhbnMtc2VyaWZcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmZvbnQgPSBmb250U2l6ZSArIFwicHggXCIgKyBmb250RmFtaWx5O1xuXG4gICAgICAgICAgICBpZiAoYW5ub3RhdGlvbk1hcFtcImNvbG9yXCJdKSB7XG4gICAgICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBjb2xvckZyb21JbnQoYW5ub3RhdGlvbk1hcFtcImNvbG9yXCJdLCBcIjEwMFwiKTtcbiAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LnRvU3RyaW5nKCksIHRleHRYLCB0ZXh0WSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0b3BDdHgucmVzdG9yZSgpO1xuICAgICAgYm90dG9tQ3R4LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRyYXdBbm5vdGF0aW9uc0Zyb21OaWNlQ1goY3l0b3NjYXBlSW5zdGFuY2UsIG5pY2VDWCkge1xuICAgIGNvbnN0IGFubm90YXRpb25FbGVtZW50cyA9IHRoaXMuZ2V0QW5ub3RhdGlvbkVsZW1lbnRzRnJvbU5pY2VDWChuaWNlQ1gpO1xuICAgIHRoaXMuZHJhd0Fubm90YXRpb25zRnJvbUFubm90YXRpb25FbGVtZW50cyhjeXRvc2NhcGVJbnN0YW5jZSwgYW5ub3RhdGlvbkVsZW1lbnRzKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgQ3hUb0N5Q2FudmFzIH07XG4iXSwic291cmNlUm9vdCI6IiJ9